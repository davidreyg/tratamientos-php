import{_ as y}from"./BasePage.3ba15e45.js";import{u as C,_ as S,a as i}from"./BaseInput.7e318851.js";import{h as l,aE as N,D as R,B as t,A as u,u as c,m as p,q as k}from"./index.3f248cab.js";import{c as v,a as m}from"./index.esm.73741b5f.js";import{u as h}from"./index.1e74a660.js";import{R as E}from"./RoleApi.aed47dee.js";import"./QPage.d2980e49.js";class g{static async run(a){try{await E.store(a)}catch(e){throw e}}}function w(){return h(o=>g.run(o))}const x={class:"row"},B=l({__name:"RoleCreateForm",emits:["submit","cancel"],setup(o,{emit:a}){const e=a,r=v().shape({name:m().trim().min(2).matches(/^\S*$/,"El campo no puede tener espacios.").required().label("Nombre"),display_name:m().trim().optional().label("Nombre display"),description:m().trim().optional().label("Descripci\xF3n")}),{handleSubmit:d,setErrors:_}=C({validationSchema:r}),{isLoading:b,mutate:f}=w(),$=d(async n=>{f(n,{onSuccess:()=>{N.success(),e("submit")},onError:s=>{_(s.data.errors)}})});return(n,s)=>(p(),R("div",x,[t(S,{class:"col-sm-6 col-xs-12 col-md-5",loading:c(b),onSubmit:c($),onCancel:s[0]||(s[0]=D=>n.$emit("cancel"))},{default:u(()=>[t(i,{name:"name",label:"Nombre",class:"col-12"}),t(i,{name:"display_name",label:"Nombre a mostrar",class:"col-12"}),t(i,{type:"textarea",name:"description",label:"Descripcion",class:"col-12"})]),_:1},8,["loading","onSubmit"])]))}}),V=l({__name:"RoleCreate",setup(o){return(a,e)=>(p(),k(y,{title:"Nuevo Rol",loading:!1},{content:u(()=>[t(B,{onSubmit:e[0]||(e[0]=r=>a.$router.back()),onCancel:e[1]||(e[1]=r=>a.$router.back())})]),_:1}))}});export{V as default};
