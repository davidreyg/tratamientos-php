import{h as _,m as p,q as f,A as s,z as v,u as c,B as e,bq as y,C as S,ak as g,aq as q,ar as G}from"./index.8e1e529b.js";import{_ as k}from"./BasePage.2a141dec.js";import{_ as N}from"./BaseCheckBox.247ce6e4.js";import{u as h,_ as B,a as F}from"./BaseInput.5767a8ad.js";import{c as w,a as d,d as x}from"./index.esm.4940542b.js";import{u as A}from"./index.1c9af67c.js";import{G as E}from"./GolApi.f6c0f150.js";import{_ as L}from"./AcademicEntitiesSelect.3eac798b.js";import"./QPage.29776a48.js";import"./QField.57308312.js";import"./QSelect.0d489ee9.js";import"./rtl.b51694b1.js";import"./academicEntityFetchAllQuery.2707358f.js";import"./QueryTypes.b72dec59.js";import"./BaseSelect.229e0648.js";class M{static async run(t){try{await E.save(t)}catch(o){throw o}}}function Q(){return A(r=>M.run(r))}const V=_({__name:"GolCreateForm",emits:["submit","cancel"],setup(r,{emit:t}){const o=t,m=w().shape({name:d().trim().min(10).required().label("Nombre"),is_active:x().required().label("Activo"),academic_entity_id:d().required().label("Escuela")}),{handleSubmit:i,setErrors:l,resetField:b}=h({validationSchema:m}),{isLoading:u,mutate:$}=Q(),C=i(async n=>{$(n,{onSuccess:async()=>{o("submit")},onError:a=>{a.data.errors&&l(a.data.errors)}})});return(n,a)=>(p(),f(F,{loading:c(u),onSubmit:c(C),onCancel:a[1]||(a[1]=P=>n.$emit("cancel"))},{actions:s(()=>[v(n.$slots,"actions",{isLoading:c(u)})]),default:s(()=>[e(B,{name:"name",label:"Nombre",required:"",class:"col-12"}),e(L,{onFacultyChanged:a[0]||(a[0]=()=>c(b)("academic_entity_id"))}),e(N,{name:"is_active",label:"\xBFActivo?",class:"col-xs-12 col-sm-6"})]),_:3},8,["loading","onSubmit"]))}}),z={class:"row"},ea=_({__name:"GolCreatePage",setup(r){const t=y(),o=()=>{G.success("Gol registrado correctamente"),t.back()};return(m,i)=>(p(),f(k,{loading:!1,title:"Nuevo Gol"},{content:s(()=>[S("div",z,[e(q,{class:"my-card col-xs-12 col-sm-9 col-md-7 q-pa-md"},{default:s(()=>[e(g,null,{default:s(()=>[e(V,{onSubmit:o,onCancel:i[0]||(i[0]=l=>m.$router.back())})]),_:1})]),_:1})])]),_:1}))}});export{ea as default};
