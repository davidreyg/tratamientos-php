import{bp as g,aG as T,aH as $,U as k,X as h,Z as S,$ as w,aU as E,a0 as N,o as l,d as p,w as D,a4 as b,ac as _,a1 as s,a9 as C,ax as x,aj as B,ad as F,at as y,af as U}from"./index.0b61b42a.js";import{_ as q}from"./SkeletonForm.a34e76f0.js";class v{static async run(e){try{return(await g.fetchOne(e)).data().data}catch(o){throw o}}}class O{static async run(e,o){try{await g.update(e,o)}catch(a){throw a}}}function L(t,e){const o=async()=>await v.run(t),{data:a,isLoading:c,isSuccess:r,isError:i,isFetching:u,refetch:n}=T([$.TIPO_DOCUMENTO_ALL,t],o,{enabled:e});return{data:a,isLoading:c,isSuccess:r,isError:i,isFetching:u,refetch:n}}function Q(){return k(({data:t,id:e})=>O.run(t,e))}const I=h({__name:"TipoDocumentoEditForm",props:{tipoDocumento:{type:Object,required:!0}},emits:["submit","cancel"],setup(t,{emit:e}){const o=t,a=e,c=S().shape({nombre:w().trim().min(2).required().label("Nombre"),digitos:E().typeError("Debe ingresar un numero").required().integer().positive().label("Digitos")}),{handleSubmit:r,setErrors:i}=N({validationSchema:c,initialValues:o.tipoDocumento}),{isLoading:u,mutate:n}=Q(),f=r(async d=>{n({data:d,id:o.tipoDocumento.id},{onSuccess:()=>{a("submit")},onError:m=>{i(m.data.errors)}})});return(d,m)=>(l(),p(C,{class:"col-sm-6 col-xs-12 col-md-5",loading:s(u),onSubmit:s(f),onCancel:m[0]||(m[0]=V=>d.$emit("cancel"))},{default:D(()=>[b(_,{name:"nombre",label:"Nombre",class:"col-12"}),b(_,{name:"digitos",label:"N\xB0 Digitos",class:"col-12"})]),_:1},8,["loading","onSubmit"]))}}),M={class:"row"},P=h({__name:"TipoDocumentoEditPage",props:{id:{type:Number,required:!0}},setup(t){const e=t,o=x(),{data:a,isSuccess:c,isFetching:r}=L(e.id,!0),i=()=>{U.success("Registro actualizado correctamente"),o.back()};return(u,n)=>(l(),B("div",M,[s(r)?(l(),p(F,{key:0,class:"col-sm-6 col-xs-12 col-md-5 q-pa-lg"},{default:D(()=>[b(q,{class:"col-12",inputs:2})]),_:1})):y("",!0),s(c)&&!s(r)&&s(a)?(l(),p(I,{key:1,"tipo-documento":s(a),gol:s(a),onSubmit:i,onCancel:n[0]||(n[0]=f=>u.$router.back())},null,8,["tipo-documento","gol"])):y("",!0)]))}});export{P as default};
