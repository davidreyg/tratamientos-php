import{W as q,Y as l,$ as C,a0 as S,b1 as h,aU as k,a1 as v,r as y,ag as N,o as c,ak as P,a5 as i,w as g,ad as w,aj as u,aS as E,f as V,a2 as r,e as d,au as B,aa as F}from"./index.a85a2474.js";import{u as A}from"./examenFetchAllQuery.8d71c4e3.js";import{P as M}from"./PaqueteApi.83c7aa2a.js";import{_ as Q}from"./ExamenCardList.6fac4337.js";import"./ExamenApi.b9b2180d.js";import"./BaseCheckBoxGroup.1171d2cd.js";class T{static async run(a){try{await M.create(a)}catch(e){throw e}}}function U(){return q(t=>T.run(t))}const j={class:"row"},J={class:"col-12"},L={class:"col-12 row q-col-gutter-sm"},W=l({__name:"PaqueteCreateForm",emits:["submit","cancel"],setup(t,{emit:a}){const e=a,o=C().shape({nombre:S().trim().min(2).required().label("Nombre"),examen_ids:h().of(k().required()).required().label("Examenes")}),{handleSubmit:_,setErrors:p}=v({validationSchema:o,initialValues:{examen_ids:[]}}),f=y({limit:0,search:"is_active:1",searchJoin:"and"}),{data:m}=A(f),{isLoading:b,mutate:$}=U(),x=_(async n=>{$(n,{onSuccess:()=>{N.success(),e("submit")},onError:s=>{p(s.data.errors)}})});return(n,s)=>(c(),P("div",j,[i(F,{class:"col-xs-12 col-sm-10",loading:r(b),onSubmit:r(x),onCancel:s[0]||(s[0]=Y=>n.$emit("cancel"))},{default:g(()=>[i(w,{name:"nombre",label:"Nombre",class:"col-12"}),u("div",J,[i(E,{spaced:""}),V(" Examenes")]),u("div",L,[r(m)?(c(),d(Q,{key:0,examens:r(m)},null,8,["examens"])):B("",!0)])]),_:1},8,["loading","onSubmit"])]))}}),O=l({__name:"PaqueteCreatePage",setup(t){return(a,e)=>(c(),d(W,{onSubmit:e[0]||(e[0]=o=>a.$router.back()),onCancel:e[1]||(e[1]=o=>a.$router.back())}))}});export{O as default};
