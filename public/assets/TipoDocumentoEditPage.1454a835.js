import{aD as q,aT as D,aU as $,a6 as T,B as w,a2 as B,a3 as C,h as b,m as x,J as N,y as E,_ as F,o as u,av as f,au as k,aP as z,aV as A,ag as r,w as y,am as I,a8 as Q,aa as L,ab as O,aS as U,ac as V,ao as S,ad as n,al as P,aA as R,e as h,ap as M,aH as v,aw as j,ar as H}from"./index.e1b5e9cb.js";class J{static async run(t){try{return(await q.fetchOne(t)).data().data}catch(a){throw a}}}class G{static async run(t,a){try{await q.update(t,a)}catch(o){throw o}}}function K(e,t){const a=async()=>await J.run(e),{data:o,isLoading:c,isSuccess:s,isError:i,isFetching:l,refetch:d}=D([$.TIPO_DOCUMENTO_ALL,e],a,{enabled:t});return{data:o,isLoading:c,isSuccess:s,isError:i,isFetching:l,refetch:d}}function W(){return T(({data:e,id:t})=>G.run(e,t))}const X=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Y=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var _=w({name:"QSkeleton",props:{...B,tag:{type:String,default:"div"},type:{type:String,validator:e=>X.includes(e),default:"rect"},animation:{type:String,validator:e=>Y.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const a=E(),o=C(e,a.proxy.$q),c=b(()=>{const i=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:i[0],height:i[1]}}),s=b(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>x(e.tag,{class:s.value,style:c.value},N(t.default))}});const Z={},ee={class:"col-12 row q-col-gutter-lg"};function te(e,t){return u(),f("div",null,[k("div",ee,[(u(),f(z,null,A(5,a=>k("div",{key:a,class:"col-12"},[r(_,{type:"QInput"})])),64))]),r(I,{align:"right",class:"col-12 justify-end q-pa-none q-pt-md"},{default:y(()=>[r(_,{type:"QBtn",class:"q-mr-md"}),r(_,{type:"QBtn"})]),_:1})])}var ae=F(Z,[["render",te]]);const oe={class:"row"},ne=Q({__name:"TipoDocumentoEditForm",props:{tipoDocumento:{type:Object,required:!0}},emits:["submit","cancel"],setup(e,{emit:t}){const a=e,o=t,c=L().shape({nombre:O().trim().min(2).required().label("Nombre"),digitos:U().typeError("Debe ingresar un numero").required().integer().positive().label("Digitos")}),{handleSubmit:s,setErrors:i}=V({validationSchema:c,initialValues:a.tipoDocumento}),{isLoading:l,mutate:d}=W(),m=s(async p=>{d({data:p,id:a.tipoDocumento.id},{onSuccess:()=>{o("submit")},onError:g=>{i(g.data.errors)}})});return(p,g)=>(u(),f("div",oe,[r(P,{class:"col-sm-6 col-xs-12 col-md-5",loading:n(l),onSubmit:n(m),onCancel:g[0]||(g[0]=ie=>p.$emit("cancel"))},{default:y(()=>[r(S,{name:"nombre",label:"Nombre",class:"col-12"}),r(S,{name:"digitos",label:"N\xB0 Digitos",class:"col-12"})]),_:1},8,["loading","onSubmit"])]))}}),se={class:"row"},ce=Q({__name:"TipoDocumentoEditPage",props:{id:{type:Number,required:!0}},setup(e){const t=e,a=R(),{data:o,isSuccess:c,isFetching:s,isLoading:i}=K(t.id,!0),l=()=>{H.success("Registro actualizado correctamente"),a.back()};return(d,m)=>(u(),h(j,{title:"Editar Tipo de Documento",loading:n(i)},{content:y(()=>[k("div",se,[n(s)?(u(),h(M,{key:0,class:"col-6 q-pa-lg"},{default:y(()=>[r(ae,{class:"col-12"})]),_:1})):v("",!0),n(c)&&!n(s)&&n(o)?(u(),h(ne,{key:1,"tipo-documento":n(o),gol:n(o),onSubmit:l,onCancel:m[0]||(m[0]=p=>d.$router.back())},null,8,["tipo-documento","gol"])):v("",!0)])]),_:1},8,["loading"]))}});export{ce as default};
