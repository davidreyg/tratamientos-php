import{Y as $,a$ as S,aR as v,k as C,$ as y,aS as B,a0 as D,a1 as h,aG as u,b0 as F,o as m,ak as N,a5 as e,w as t,aU as Q,ad as k,ab as q,ac as w,a2 as a,b1 as E,aj as P,b2 as A,b3 as d,e as L,a6 as R,ae as T,au as j}from"./index.8b2eeb1e.js";import{u as p,_ as V}from"./laboratorio.store.8fb8d8d6.js";import"./establecimientoFetchAllQuery.3a7537a1.js";import"./paqueteFetchAllQuery.58725a73.js";import"./PaqueteApi.94040dff.js";import"./ExamenCardList.ad6f0fef.js";import"./BaseCheckBoxGroup.35447f15.js";const I={class:"row q-col-gutter-md"},O={class:"col-12"},W=$({__name:"RegistrarOrdenPage",setup(z){const{fetchPaciente:r,$reset:i}=p(),{paciente:n,isPacienteLoading:f}=S(p()),{data:c}=v(),_=C(()=>c.value?c.value.map(o=>({label:o.nombre,value:o.id})):[]),b=y().shape({numero_documento:B().typeError("Debe ingresar un n\xFAmero").min(8).required().label("N\xFAmero de Documento"),tipo_documento_id:D().required().label("Tipo de Documento")}),{handleSubmit:g}=h({validationSchema:b}),x=g(async o=>{await r(o.numero_documento),n.value?u.fire({title:"Exito!",text:"Paciente encontrado correctamente!",icon:"success"}):u.fire({title:"Informaci\xF3n!",text:"No se encontro el paciente indicado!",icon:"info"})});return F(()=>{i()}),(o,s)=>(m(),N("div",I,[e(E,{class:"col-12 row q-col-gutter-lg items-start justify-center",onSubmit:a(x)},{default:t(()=>[e(Q,{options:_.value,name:"tipo_documento_id",class:"col-xs-12 col-sm-4",label:"Tipo de Documento",loading:!1,required:""},null,8,["options"]),e(k,{name:"numero_documento",label:"N\xB0 de Documento",class:"col-xs-12 col-sm-4",required:""}),e(q,{class:"col-auto justify-center"},{default:t(()=>[e(w,{color:"primary",outline:"",size:"lg",icon:"search",label:"Buscar","no-caps":"",type:"submit",loading:a(f)},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"]),P("div",O,[e(d,{icon:"fas fa-person",label:"Datos del Paciente",caption:"Editar / Crear",class:"bg-purple-2"},{default:t(()=>[e(A,{class:"bg-purple-1",paciente:a(n),onCancel:a(i),onSubmit:s[0]||(s[0]=l=>a(r)(l))},null,8,["paciente","onCancel"])]),_:1}),a(n)?(m(),L(d,{key:0,icon:"fas fa-vials",label:"Datos de la Orden de Lab.",caption:"Editar / Crear"},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[e(V,{"paciente-id":Number(a(n).id),onSubmit:s[1]||(s[1]=l=>o.$router.push({name:"laboratorio.resultados"}))},null,8,["paciente-id"])]),_:1})]),_:1})]),_:1})):j("",!0)])]))}});export{W as default};
