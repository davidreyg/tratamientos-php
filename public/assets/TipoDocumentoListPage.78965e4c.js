import{ah as w,d as p,h as s,z as C,G as y,j as c,v as i,x as o,a4 as b,am as l,K as v,al as D,b4 as $,F as B,b1 as h,b0 as f,u as T,ar as E}from"./index.c50cd903.js";import{T as x}from"./TipoDocumentoApi.057d7bfa.js";import{_ as O}from"./BaseTable.cd4454a3.js";import{u as k}from"./tipoDocumentoFetchAllQuery.9affb33a.js";import"./QTable.391fab48.js";import"./QSelect.5f1b5a7b.js";import"./rtl.b51694b1.js";import"./QueryTypes.707bd378.js";class N{static async run(a){try{await x.destroy(a)}catch(t){throw t}}}function S(){return w(e=>N.run(e))}const A=p({__name:"TipoDocumentosTableActions",props:{id:{type:String,required:!0}},emits:["destroy","edit"],setup(e){return(a,t)=>(s(),C(B,null,[y((s(),c(D,{clickable:"",onClick:t[0]||(t[0]=r=>a.$emit("edit",e.id))},{default:i(()=>[o(l,{avatar:""},{default:i(()=>[o(b,{name:"fas fa-pen-to-square",color:"warning"})]),_:1}),o(l,null,{default:i(()=>[v("Editar")]),_:1})]),_:1})),[[h]]),o($),y((s(),c(D,{clickable:"",onClick:t[1]||(t[1]=r=>a.$emit("destroy",e.id))},{default:i(()=>[o(l,{avatar:""},{default:i(()=>[o(b,{name:"fas fa-trash-can",color:"negative"})]),_:1}),o(l,null,{default:i(()=>[v("Eliminar")]),_:1})]),_:1})),[[h]])],64))}}),F=p({__name:"TipoDocumentosTable",props:{loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},serverPagination:{type:Object,default:void 0}},emits:["destroyOne","edit"],setup(e,{emit:a}){const t=a,r=[{name:"nombre",align:"left",label:"Nombre",field:"nombre",sortable:!0},{name:"digitos",align:"center",label:"Digitos",field:"digitos"},{name:"actions",align:"right",label:"",field:"actions"}],{mutateAsync:d}=S(),u=n=>{f.fire({title:"\xBFEst\xE1 seguro de eliminar este registro?",text:"No podra deshacer los cambios!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:async()=>{await d(n,{onSuccess:async()=>{t("destroyOne",n)},onError:()=>{f.hideLoading()}})},allowOutsideClick:()=>!f.isLoading()})};return(n,g)=>(s(),c(O,{columns:r,data:e.data,loading:e.loading,"row-key":"id","server-pagination":e.serverPagination,"show-grid-toggle":!1},{actions:i(({key:m})=>[o(A,{id:m,onEdit:_=>n.$emit("edit",m),onDestroy:_=>u(m)},null,8,["id","onEdit","onDestroy"])]),_:1},8,["data","loading","server-pagination"]))}}),z=p({__name:"TipoDocumentoListPage",setup(e){const{data:a,isFetching:t,refetch:r}=k(),d=()=>{E.success("Registro eliminado correctamente."),r.value()};return(u,n)=>(s(),c(F,{data:T(a)||[],loading:T(t),onEdit:n[0]||(n[0]=g=>u.$router.push({name:"tipo-documentos.edit",params:{id:g}})),onDestroyOne:d},null,8,["data","loading"]))}});export{z as default};
