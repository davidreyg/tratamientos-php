import{aE as $,aF as S,W as k,Y as q,$ as E,a0 as P,a1 as w,o as l,e as _,w as h,a5 as d,ad as N,aj as y,aS as F,f as v,a2 as r,aa as x,ay as B,ak as C,ae as Q,au as b,ag as T}from"./index.f707d301.js";import{_ as V}from"./SkeletonForm.4af4ab25.js";import{P as g}from"./PaqueteApi.31b32201.js";import{_ as L}from"./ExamenCardList.8aa04fd3.js";import"./examenFetchAllQuery.02b4bc94.js";import"./BaseCheckBoxGroup.7522293b.js";class U{static async run(e){try{return(await g.fetchOne(e)).data().data}catch(t){throw t}}}class A{static async run(e,t){try{await g.update(e,t)}catch(s){throw s}}}function j(a,e){const t=async()=>await U.run(a),{data:s,isLoading:n,isSuccess:o,isError:i,isFetching:u,refetch:c}=$([S.PAQUETE_ALL,a],t,{enabled:e});return{data:s,isLoading:n,isSuccess:o,isError:i,isFetching:u,refetch:c}}function I(){return k(({data:a,id:e})=>A.run(a,e))}const M={class:"col-12"},O={class:"col-12 row q-col-gutter-sm"},R=q({__name:"PaqueteEditForm",props:{paquete:{type:Object,required:!0}},emits:["submit","cancel"],setup(a,{emit:e}){const t=a,s=e,n=E().shape({nombre:P().trim().min(2).required().label("Nombre")}),{handleSubmit:o,setErrors:i}=w({validationSchema:n,initialValues:t.paquete}),{isLoading:u,mutate:c}=I(),f=o(async p=>{c({data:p,id:t.paquete.id},{onSuccess:()=>{s("submit")},onError:m=>{i(m.data.errors)}})});return(p,m)=>(l(),_(x,{loading:r(u),onSubmit:r(f),onCancel:m[0]||(m[0]=W=>p.$emit("cancel"))},{default:h(()=>[d(N,{name:"nombre",label:"Nombre",class:"col-12"}),y("div",M,[d(F,{spaced:""}),v(" Examenes")]),y("div",O,[d(L)])]),_:1},8,["loading","onSubmit"]))}}),z={class:"row"},X=q({__name:"PaqueteEditPage",props:{id:{type:Number,required:!0}},setup(a){const e=a,t=B(),{data:s,isSuccess:n,isFetching:o}=j(e.id,!0),i=()=>{T.success("Registro actualizado correctamente"),t.back()};return(u,c)=>(l(),C("div",z,[r(o)?(l(),_(Q,{key:0,class:"col-xs-12 col-sm-10 q-pa-lg"},{default:h(()=>[d(V,{class:"col-12",inputs:2})]),_:1})):b("",!0),r(n)&&!r(o)&&r(s)?(l(),_(R,{key:1,class:"col-xs-12 col-sm-10",paquete:r(s),gol:r(s),onSubmit:i,onCancel:c[0]||(c[0]=f=>u.$router.back())},null,8,["paquete","gol"])):b("",!0)]))}});export{X as default};
