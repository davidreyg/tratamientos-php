import{U as q,X as l,Z as C,$ as h,b4 as v,aU as S,a0 as k,r as y,af as N,o as c,aj as P,a4 as i,w,ac as E,ai as u,aC as g,e as V,a1 as r,d,at as B,a9 as F}from"./index.ddaffeba.js";import{u as U}from"./examenFetchAllQuery.20d85fdf.js";import{P as A}from"./PaqueteApi.c4643ddc.js";import{_ as M}from"./ExamenCardList.f0810d8a.js";import"./ExamenApi.fd374c57.js";import"./BaseCheckBoxGroup.e838326f.js";class Q{static async run(a){try{await A.create(a)}catch(e){throw e}}}function T(){return q(t=>Q.run(t))}const j={class:"row"},J={class:"col-12"},L={class:"col-12 row q-col-gutter-sm"},X=l({__name:"PaqueteCreateForm",emits:["submit","cancel"],setup(t,{emit:a}){const e=a,o=C().shape({nombre:h().trim().min(2).required().label("Nombre"),examen_ids:v().of(S().required()).required().label("Examenes")}),{handleSubmit:_,setErrors:p}=k({validationSchema:o,initialValues:{examen_ids:[]}}),f=y({limit:0,search:"is_active:1",searchJoin:"and"}),{data:m}=U(f),{isLoading:b,mutate:$}=T(),x=_(async n=>{$(n,{onSuccess:()=>{N.success(),e("submit")},onError:s=>{p(s.data.errors)}})});return(n,s)=>(c(),P("div",j,[i(F,{class:"col-xs-12 col-sm-10",loading:r(b),onSubmit:r(x),onCancel:s[0]||(s[0]=Z=>n.$emit("cancel"))},{default:w(()=>[i(E,{name:"nombre",label:"Nombre",class:"col-12"}),u("div",J,[i(g,{spaced:""}),V(" Examenes")]),u("div",L,[r(m)?(c(),d(M,{key:0,examens:r(m)},null,8,["examens"])):B("",!0)])]),_:1},8,["loading","onSubmit"])]))}}),O=l({__name:"PaqueteCreatePage",setup(t){return(a,e)=>(c(),d(X,{onSubmit:e[0]||(e[0]=o=>a.$router.back()),onCancel:e[1]||(e[1]=o=>a.$router.back())}))}});export{O as default};
