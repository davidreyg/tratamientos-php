var Ye=Object.defineProperty;var Ge=(a,o,n)=>o in a?Ye(a,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[o]=n;var U=(a,o,n)=>(Ge(a,typeof o!="symbol"?o+"":o,n),n);import{a_ as Ne,ah as ne,s as ge,e as Q,c as N,ar as V,by as Ve,a$ as ye,d as P,w as Ie,h as r,j as y,v as t,y as C,x as e,u as l,ap as q,z as $,C as z,al as X,am as T,K as B,A as L,F as M,b3 as ie,ao as qe,B as I,b0 as J,bz as Fe,bA as Y,a4 as pe,Q as Ke,S as Je,U as We,G as Xe,bB as Ze,ak as xe,an as Be,aT as Ce,aq as Pe,L as eo,aj as oo,bC as ao,bD as Ae}from"./index.c50cd903.js";import{b as to,u as se,a as x,_ as le,Q as no}from"./BaseForm.a2fb25a2.js";import{u as ze}from"./tipoDocumentoFetchAllQuery.9affb33a.js";import{_ as be,a as W,u as lo,Q as io,b as so}from"./personaReniecQuery.97915ade.js";import{c as re,a as D,d as ve,e as G}from"./index.esm.1f0c9726.js";import{a as oe,Q as Oe,u as ro}from"./index.d8cc028c.js";import{D as ae,u as Se}from"./useLuxonFormat.a1b67595.js";import{Q as he}from"./QueryTypes.707bd378.js";import{E as co}from"./EmpleadoApi.d63d483f.js";import{Q as Le}from"./QSelect.5f1b5a7b.js";import{Q as te,a as je,c as Me,b as uo}from"./QTable.391fab48.js";import"./TipoDocumentoApi.057d7bfa.js";import"./index.f408676f.js";import"./rtl.b51694b1.js";class mo{static async run(o){try{await Ne.create(o)}catch(n){throw n}}}class fo{static async run(o){try{return(await Ne.fetchDiagnosticoById(o)).data().data}catch(n){throw n}}}class po{static async run(o,n){try{await Ne.finalizarDiagnostico(o,n)}catch(i){throw i}}}function bo(){return ne(a=>mo.run(a))}function vo(){return ne(({motivo:a,id:o})=>po.run(a,o))}const j=class{static async create(o){await j._api.post(j._endpoint,o)}static async update(o,n){await j._api.patch(`${j._endpoint}/${n}`,o)}static async fetchControlesByDiagnostico(o){return await j._api.get(j._endpoint,{search:`diagnostico_id:${o}`})}static async fetchControlById(o){return await j._api.get(`${j._endpoint}/${o}`)}static async delete(o){return await j._api.delete(`${j._endpoint}/${o}`)}};let K=j;U(K,"_api",ge),U(K,"_endpoint","controls");class _o{static async run(o){try{await K.create(o)}catch(n){throw n}}}class go{static async run(o){try{await K.delete(o)}catch(n){throw n}}}class yo{static async run(o){try{return(await K.fetchControlesByDiagnostico(o)).data().data}catch(n){throw n}}}class ho{static async run(o,n){try{await K.update(o,n)}catch(i){throw i}}}function Co(){return ne(a=>_o.run(a))}function xo(){return ne(a=>go.run(a))}function wo(){return ne(({data:a,id:o})=>ho.run(a,o))}function Ue(){const a=Q([]),o=Q(!1),n=async c=>{o.value=!0,a.value=[];try{a.value=await yo.run(c),o.value=!1}catch{o.value=!1}},i=N(()=>!!(!a.value||a.value&&a.value.length===0));return{controles:a,isControlesEmpty:i,isLoading:o,fetch:n}}function Do(){const a=Q(),o=Q(!1),{fetch:n,controles:i,isControlesEmpty:c}=Ue(),g=async s=>{o.value=!0,a.value=void 0;try{a.value=await fo.run(s),i.value=[],a.value&&await n(a.value.id),o.value=!1}catch{o.value=!1}},u=N(()=>!a.value);return{diagnostico:a,controles:i,isDiagnosticoEmpty:u,isControlesEmpty:c,isLoading:o,fetch:g,fetchControles:n}}function _e(a){const o=Q([]),{remove:n,push:i,fields:c}=to(a);return{arr_seleccionados:o,push:s=>{if(o.value.some(m=>m.value===s.value)){V.warn("Ya has agregado este item");return}o.value.push(s),i(s.value)},remove:s=>{o.value.splice(s,1),n(s)},fields:c}}class $o{static async run(o){try{await Ve.create(o)}catch(n){throw n}}}class ko{static async run(o,n){try{await Ve.update(o,n)}catch(i){throw i}}}function qo(){return ne(a=>$o.run(a))}function Fo(){return ne(({data:a,id:o})=>ko.run(a,o))}class So{static async run(){try{return(await co.fetchAll({search:"cargo_id:1",limit:0})).data().data}catch(o){throw V.error("Hubo un error al traer los medicos..."),o}}}function Qe(){const a=async()=>await So.run(),{data:o,isLoading:n,isSuccess:i,isError:c,isFetching:g,refetch:u}=ye([he.EMPLEADOS_ALL,"medicos"],a);return{data:o,isLoading:n,isSuccess:i,isError:c,isFetching:g,refetch:u}}const we=class{static fetchAll(){return we._api.get(`${we._endpoint}`)}};let de=we;U(de,"_api",ge),U(de,"_endpoint","/complicaciones");class Eo{static async run(){try{return(await de.fetchAll()).data().data}catch(o){throw V.error("Hubo un error al traer las complicaciones..."),o}}}function He(){const a=async()=>await Eo.run(),{data:o,isLoading:n,refetch:i,error:c}=ye([he.COMPLICACION_ALL],a);return{data:o,isLoading:n,error:c,refetch:i}}const De=class{static fetchAll(){return De._api.get(`${De._endpoint}`)}};let ue=De;U(ue,"_api",ge),U(ue,"_endpoint","/medicamentos");class Ao{static async run(){try{return(await ue.fetchAll()).data().data}catch(o){throw V.error("Hubo un error al traer los medicamentos..."),o}}}function Re(){const a=async()=>await Ao.run(),{data:o,isLoading:n,refetch:i,error:c}=ye([he.MEDICAMENTO_ALL],a);return{data:o,isLoading:n,error:c,refetch:i}}const To={class:"col-xs-12 col-sm-4"},Lo={class:"col-xs-12 col-sm-4"},No={class:"col-xs-12 col-sm-6"},Io={class:"col-xs-12 col-sm-6"},Qo=P({__name:"ControlCreateForm",props:{diagnosticoId:{type:String,required:!0},ultimoControl:{type:Object,required:!1,default:void 0}},emits:["submit","cancel"],setup(a,{emit:o}){const n=a,i=o,{data:c}=Qe(),{data:g}=Re(),{data:u}=He(),s=N(()=>c.value?c.value.map(p=>({label:p.nombres+" "+p.apellido_paterno+" "+p.apellido_materno,value:p.id})):[]),d=N(()=>g.value?g.value.map(p=>({label:p.nombre,value:p.id})):[]),m=N(()=>u.value?u.value.map(p=>({label:p.nombre,value:p.id})):[]),w=re().shape({diagnostico_id:D().trim().required().label("Diagnostico"),empleado_id:D().trim().required().label("Medico"),fecha_inicio:D().required().label("Fecha Inicio"),observaciones:D().nullable().label("Observaciones"),fecha_fin:D().required().label("Fecha Fin"),medicamentos:ve().required().label("Medicamentos"),complicaciones:ve().optional().label("Complicaciones")}),{handleSubmit:F,setFieldValue:A}=se({validationSchema:w,initialValues:{fecha_inicio:ae.now().toISODate(),fecha_fin:ae.now().toISODate()}});A("diagnostico_id",n.diagnosticoId);const b=Q(),f=Q(),{arr_seleccionados:v,remove:k,push:O}=_e("medicamentos"),{arr_seleccionados:R,remove:Z,push:_}=_e("complicaciones"),{mutate:S,isLoading:H}=Co(),ce=F(async p=>{S(p,{onSuccess:()=>{V.success("Control registrado correctamente"),i("submit",n.diagnosticoId)},onError:h=>{console.log(h)}})});return Ie(()=>n.ultimoControl,p=>{p&&(A("empleado_id",p.medico.data.id),p.medicamentos.data.forEach(h=>{O({label:h.nombre,value:h.id})}))},{immediate:!0}),(p,h)=>(r(),y(le,{loading:l(H),onSubmit:l(ce),onCancel:h[4]||(h[4]=E=>p.$emit("cancel"))},{default:t(()=>[C("div",To,[e(be,{required:"",name:"fecha_inicio",label:"Fecha Inicio","min-date":l(ae).now()},null,8,["min-date"])]),C("div",Lo,[e(be,{required:"",name:"fecha_fin",label:"Fecha Fin","min-date":l(ae).now()},null,8,["min-date"])]),e(W,{options:s.value,name:"empleado_id",label:"Medico",class:"col-xs-12 col-sm-4"},null,8,["options"]),C("div",No,[e(W,{modelValue:b.value,"onUpdate:modelValue":h[1]||(h[1]=E=>b.value=E),options:d.value,outlined:!1,"emit-value":!1,borderless:"",dense:"",name:"medicamento",label:"Tratamiento"},{after:t(()=>[e(q,{disable:!b.value,round:"",dense:"",icon:"add",color:"positive",onClick:h[0]||(h[0]=()=>{l(O)(b.value),b.value=void 0})},null,8,["disable"])]),_:1},8,["modelValue","options"]),e(ie,null,{default:t(()=>[(r(!0),$(M,null,z(l(v),(E,ee)=>(r(),y(X,{key:E.value},{default:t(()=>[e(T,null,{default:t(()=>[B(L(E.label),1)]),_:2},1024),e(T,{side:""},{default:t(()=>[e(q,{round:"",flat:"",size:"lg",padding:"0",color:"negative",icon:"cancel",onClick:Ee=>l(k)(ee)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),C("div",Io,[e(W,{modelValue:f.value,"onUpdate:modelValue":h[3]||(h[3]=E=>f.value=E),options:m.value,borderless:"",outlined:!1,"emit-value":!1,dense:"",name:"complicacion",label:"Complicaciones"},{after:t(()=>[e(q,{disable:!f.value,round:"",dense:"",icon:"add",color:"positive",onClick:h[2]||(h[2]=()=>{l(_)(f.value),f.value=void 0})},null,8,["disable"])]),_:1},8,["modelValue","options"]),e(ie,null,{default:t(()=>[(r(!0),$(M,null,z(l(R),(E,ee)=>(r(),y(X,{key:E.value},{default:t(()=>[e(T,null,{default:t(()=>[B(L(E.label),1)]),_:2},1024),e(T,{side:""},{default:t(()=>[e(q,{round:"",flat:"",size:"lg",padding:"0",color:"negative",icon:"cancel",onClick:Ee=>l(Z)(ee)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(x,{type:"textarea",name:"observaciones",label:"Observaciones",class:"col-xs-12 col-sm-6"})]),_:1},8,["loading","onSubmit"]))}}),Bo={class:"col-xs-12 col-sm-4"},Mo={class:"col-xs-12 col-sm-4"},Vo={class:"col-xs-12 col-sm-6"},Po={class:"col-xs-12 col-sm-6"},zo=P({__name:"ControlEditForm",props:{diagnosticoId:{type:String,required:!0},control:{type:Object,required:!0}},emits:["submit","cancel"],setup(a,{emit:o}){const n=a,i=o,{data:c}=Qe(),{data:g}=Re(),{data:u}=He(),s=N(()=>c.value?c.value.map(p=>({label:p.nombres+" "+p.apellido_paterno+" "+p.apellido_materno,value:p.id})):[]),d=N(()=>g.value?g.value.map(p=>({label:p.nombre,value:p.id})):[]),m=N(()=>u.value?u.value.map(p=>({label:p.nombre,value:p.id})):[]),w=re().shape({diagnostico_id:D().trim().required().label("Diagnostico"),empleado_id:D().trim().required().label("Medico"),fecha_inicio:D().required().label("Fecha Inicio"),observaciones:D().nullable().label("Observaciones"),fecha_fin:D().required().label("Fecha Fin"),medicamentos:ve().required().label("Medicamentos"),complicaciones:ve().optional().label("Complicaciones")}),{handleSubmit:F,setFieldValue:A}=se({validationSchema:w});A("diagnostico_id",n.diagnosticoId);const b=Q(),f=Q(),{arr_seleccionados:v,remove:k,push:O}=_e("medicamentos"),{arr_seleccionados:R,remove:Z,push:_}=_e("complicaciones"),{mutate:S,isLoading:H}=wo(),ce=F(async p=>{S({data:p,id:n.control.id},{onSuccess:()=>{V.success("Control actualizado correctamente"),i("submit",n.diagnosticoId)},onError:h=>{console.log(h)}})});return Ie(()=>n.control,p=>{A("fecha_inicio",p.fecha_inicio),A("fecha_fin",p.fecha_fin),A("empleado_id",p.medico.data.id),A("observaciones",p.observaciones),p.medicamentos.data.forEach(h=>{O({label:h.nombre,value:h.id})}),p.complicaciones.data.forEach(h=>{_({label:h.nombre,value:h.id})})},{immediate:!0}),(p,h)=>(r(),y(le,{loading:l(H),onSubmit:l(ce),onCancel:h[4]||(h[4]=E=>p.$emit("cancel"))},{default:t(()=>[C("div",Bo,[e(be,{required:"",name:"fecha_inicio",label:"Fecha Inicio","min-date":l(ae).now()},null,8,["min-date"])]),C("div",Mo,[e(be,{required:"",name:"fecha_fin",label:"Fecha Fin","min-date":l(ae).now()},null,8,["min-date"])]),e(W,{options:s.value,name:"empleado_id",label:"Medico",class:"col-xs-12 col-sm-4"},null,8,["options"]),C("div",Vo,[e(Le,{modelValue:b.value,"onUpdate:modelValue":h[1]||(h[1]=E=>b.value=E),options:d.value,borderless:"",dense:"",name:"medicamento",label:"Tratamiento"},{after:t(()=>[e(q,{disable:!b.value,round:"",dense:"",icon:"add",color:"positive",onClick:h[0]||(h[0]=()=>{l(O)(b.value),b.value=void 0})},null,8,["disable"])]),_:1},8,["modelValue","options"]),e(ie,null,{default:t(()=>[(r(!0),$(M,null,z(l(v),(E,ee)=>(r(),y(X,{key:E.value},{default:t(()=>[e(T,null,{default:t(()=>[B(L(E.label),1)]),_:2},1024),e(T,{side:""},{default:t(()=>[e(q,{round:"",flat:"",size:"lg",padding:"0",color:"negative",icon:"cancel",onClick:Ee=>l(k)(ee)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),C("div",Po,[e(Le,{modelValue:f.value,"onUpdate:modelValue":h[3]||(h[3]=E=>f.value=E),options:m.value,borderless:"",dense:"",name:"complicacion",label:"Complicaciones"},{after:t(()=>[e(q,{disable:!f.value,round:"",dense:"",icon:"add",color:"positive",onClick:h[2]||(h[2]=()=>{l(_)(f.value),f.value=void 0})},null,8,["disable"])]),_:1},8,["modelValue","options"]),e(ie,null,{default:t(()=>[(r(!0),$(M,null,z(l(R),(E,ee)=>(r(),y(X,{key:E.value},{default:t(()=>[e(T,null,{default:t(()=>[B(L(E.label),1)]),_:2},1024),e(T,{side:""},{default:t(()=>[e(q,{round:"",flat:"",size:"lg",padding:"0",color:"negative",icon:"cancel",onClick:Ee=>l(Z)(ee)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(x,{type:"textarea",name:"observaciones",label:"Observaciones",class:"col-xs-12 col-sm-6"})]),_:1},8,["loading","onSubmit"]))}}),Oo={class:"col-xs-12 col-sm-6"},jo=C("div",null,"Tratamiento",-1),Uo={class:"col-xs-12 col-sm-6"},Ho=C("div",null,"Complicaciones",-1),Ro=P({__name:"ControlViewForm",props:{control:{type:Object,required:!0}},emits:["cancel"],setup(a){const{formatDate:o}=Se();return(n,i)=>(r(),y(le,null,{actions:t(()=>[e(qe,{class:"col-12 justify-end q-pa-none q-pt-md"},{default:t(()=>[e(q,{label:"Volver",color:"primary","no-caps":"",outline:"",onClick:i[0]||(i[0]=c=>n.$emit("cancel"))})]),_:1})]),default:t(()=>[e(x,{value:l(o)(a.control.fecha_inicio),borderless:!0,readonly:!0,outlined:!1,required:"",name:"fecha_inicio",label:"Fecha Inicio",class:"col-xs-12 col-sm-4"},null,8,["value"]),e(x,{value:l(o)(a.control.fecha_fin),borderless:!0,readonly:!0,outlined:!1,required:"",name:"fecha_fin",class:"col-xs-12 col-sm-4",label:"Fecha Fin"},null,8,["value"]),e(x,{borderless:!0,readonly:!0,outlined:!1,name:"medico_id",label:"Medico",class:"col-xs-12 col-sm-4"}),C("div",Oo,[jo,C("ul",null,[(r(!0),$(M,null,z(a.control.medicamentos.data,c=>(r(),$("li",{key:c.id},L(c.nombre),1))),128))])]),C("div",Uo,[Ho,C("ul",null,[(r(!0),$(M,null,z(a.control.complicaciones.data,c=>(r(),$("li",{key:c.id},L(c.nombre),1))),128))])]),e(x,{borderless:!0,readonly:!0,outlined:!1,type:"textarea",name:"observaciones",label:"Observaciones",class:"col-xs-12 col-sm-6"})]),_:1}))}}),Yo=P({__name:"ControlesTable",props:{controles:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},isDiagnosticoActive:{type:Boolean,required:!0}},emits:["addControl","editControl","deleteControl","viewControl"],setup(a,{emit:o}){const n=o,{formatDate:i}=Se(),c=[{name:"control",align:"left",label:"N\xB0",field:"control"},{name:"medicamentos",align:"left",label:"Tratamiento",field:s=>s.medicamentos.data.map(d=>d.nombre)},{name:"complicaciones",align:"left",label:"Complicacion",field:s=>s.complicaciones.data.map(d=>d.nombre)},{name:"observaciones",align:"center",label:"Observaciones",field:"observaciones"},{name:"fecha_inicio",align:"center",label:"Fecha Inicio",field:"fecha_inicio",format:s=>i(s)},{name:"fecha_fin",align:"center",label:"Fecha Fin",field:"fecha_fin",format:s=>i(s)},{name:"medico",align:"center",label:"Medico",field:s=>s.medico.data.nombres+" "+s.medico.data.apellido_paterno+" "+s.medico.data.apellido_materno},{name:"actions",align:"right",label:"Acciones",field:"actions"}],{mutateAsync:g}=xo(),u=s=>{J.fire({title:"\xBFEst\xE1 seguro de eliminar este registro?",text:"No podra deshacer los cambios!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:async()=>{await g(s,{onSuccess:async()=>{V.success("Control eliminado correctamente."),n("deleteControl",s)},onError:()=>{J.hideLoading()}})},allowOutsideClick:()=>!J.isLoading()})};return(s,d)=>(r(),y(l(je),{columns:c,rows:a.controles,"row-key":"id",loading:a.loading},{"top-right":t(()=>[a.isDiagnosticoActive?(r(),y(q,{key:0,flat:"",color:"primary",icon:"fas fa-folder-plus",label:"Nuevo","no-caps":"",onClick:d[0]||(d[0]=m=>s.$emit("addControl"))})):I("",!0)]),"body-cell-control":t(m=>[e(te,{class:"text-left text-bold"},{default:t(()=>[B(" Control "+L(m.rowIndex+1),1)]),_:2},1024)]),"body-cell-actions":t(m=>[e(te,{class:"text-right",style:{"min-width":"150px"}},{default:t(()=>[e(qe,{align:"right",class:"q-pa-none q-ma-none"},{default:t(()=>[e(q,{color:"primary",icon:"fas fa-eye",round:"",size:"sm",onClick:w=>s.$emit("viewControl",m.row)},null,8,["onClick"]),a.isDiagnosticoActive?(r(),y(q,{key:0,color:"warning",icon:"fas fa-pencil",round:"",size:"sm",onClick:w=>s.$emit("editControl",m.row)},null,8,["onClick"])):I("",!0),a.isDiagnosticoActive?(r(),y(q,{key:1,color:"negative",icon:"fas fa-trash-can",round:"",size:"sm",onClick:w=>u(m.key)},null,8,["onClick"])):I("",!0)]),_:2},1024)]),_:2},1024)]),"body-cell-medicamentos":t(m=>[e(te,{class:"text-left"},{default:t(()=>[C("ul",null,[(r(!0),$(M,null,z(m.value,(w,F)=>(r(),$("li",{key:F},L(w),1))),128))])]),_:2},1024)]),"body-cell-complicaciones":t(m=>[e(te,{class:"text-left"},{default:t(()=>[C("ul",null,[(r(!0),$(M,null,z(m.value,(w,F)=>(r(),$("li",{key:F},L(w),1))),128))])]),_:2},1024)]),_:1},8,["rows","loading"]))}}),Go={key:0,class:"col-12 row justify-center"},Ko={class:"col-auto"},Jo=C("div",{class:"col-12 text-center text-h6"}," Lo sentimos. \xA1No se encontr\xF3 ningun control!. Porfavor registre uno para empezar. ",-1),Wo={key:1},Xo=P({__name:"DatosControlTab",setup(a){const{controlesDelDiagnostico:o,diagnosticoSeleccionado:n,controlSeleccionado:i}=Fe(Y()),{setControlesDelDiagnostico:c}=Y(),{isLoading:g,controles:u,fetch:s}=Ue(),d=Q("list"),m=async b=>{w(),await s(b),c(u.value)},w=()=>{i.value=void 0,d.value="list"},F=async b=>{i.value=b,d.value="edit"},A=async b=>{i.value=b,d.value="view"};return(b,f)=>l(n)?(r(),y(Oe,{key:0,modelValue:d.value,"onUpdate:modelValue":f[4]||(f[4]=v=>d.value=v),animated:"",class:""},{default:t(()=>[e(oe,{name:"list"},{default:t(()=>[l(o).length===0?(r(),$("div",Go,[C("div",Ko,[e(pe,{name:"fas fa-face-frown",size:"xl"})]),Jo,e(q,{class:"q-mt-lg",color:"primary",icon:"fas fa-plus","no-caps":"",label:"Agregar nuevo control",outline:"",onClick:f[0]||(f[0]=v=>d.value="new")})])):(r(),$("div",Wo,[e(Yo,{loading:l(g),controles:l(o),"is-diagnostico-active":l(n).estado,onAddControl:f[1]||(f[1]=()=>{w(),d.value="new"}),onDeleteControl:f[2]||(f[2]=v=>m(l(n).id)),onEditControl:F,onViewControl:A},null,8,["loading","controles","is-diagnostico-active"])]))]),_:1}),e(oe,{name:"new"},{default:t(()=>[e(Qo,{"ultimo-control":l(o)[l(o).length-1],"diagnostico-id":l(n).id,onCancel:w,onSubmit:m},null,8,["ultimo-control","diagnostico-id"])]),_:1}),l(i)?(r(),y(oe,{key:0,name:"edit"},{default:t(()=>[e(zo,{"diagnostico-id":l(n).id,control:l(i),onCancel:w,onSubmit:f[3]||(f[3]=v=>m(l(n).id))},null,8,["diagnostico-id","control"])]),_:1})):I("",!0),l(i)?(r(),y(oe,{key:1,name:"view"},{default:t(()=>[e(Ro,{control:l(i),onCancel:w},null,8,["control"])]),_:1})):I("",!0)]),_:1},8,["modelValue"])):I("",!0)}}),$e=class{static fetchAll(){return $e._api.get(`${$e._endpoint}`)}};let me=$e;U(me,"_api",ge),U(me,"_endpoint","/enfermedades");class Zo{static async run(){try{return(await me.fetchAll()).data().data}catch(o){throw V.error("Hubo un error al traer los Enfermedads..."),o}}}function ea(){const a=async()=>await Zo.run(),{data:o,isLoading:n,refetch:i,error:c}=ye([he.ENFERMEDAD_ALL],a);return{data:o,isLoading:n,error:c,refetch:i}}const ke=class{static fetchAll(){return ke._api.get(`${ke._endpoint}`)}};let fe=ke;U(fe,"_api",ge),U(fe,"_endpoint","/financiamientos");class oa{static async run(){try{return(await fe.fetchAll()).data().data}catch(o){throw V.error("Hubo un error al traer los financiamientos..."),o}}}function aa(){const a=async()=>await oa.run(),{data:o,isLoading:n,refetch:i,error:c}=ye([he.FINANCIAMIENTO_ALL],a);return{data:o,isLoading:n,error:c,refetch:i}}const ta={class:"col-xs-12 col-sm-6"},na=P({__name:"DiagnosticoCreateForm",props:{pacienteId:{type:String,required:!0}},emits:["submit","cancel"],setup(a,{emit:o}){const n=a,i=o,{data:c}=aa(),{data:g}=Qe(),{data:u}=ea(),s=N(()=>c.value?c.value.map(_=>({label:_.nombre,value:_.id})):[]),d=N(()=>g.value?g.value.map(_=>({label:_.nombres+" "+_.apellido_paterno+" "+_.apellido_materno,value:_.id})):[]),m=N(()=>u.value?u.value.map(_=>({label:_.nombre,value:_.id})):[]),w=re().shape({financiamiento_id:D().trim().required().label("Financiamiento"),paciente_id:D().trim().required().label("Paciente"),empleado_id:D().trim().required().label("Medico"),observaciones:D().trim().required().max(100).label("Observaciones"),enfermedades:ve().required().label("Enfermedades")}),{handleSubmit:F,setFieldValue:A}=se({validationSchema:w});A("paciente_id",n.pacienteId);const b=Q(),{arr_seleccionados:f,remove:v,push:k}=_e("enfermedades"),{mutate:O,isLoading:R}=bo(),Z=F(async _=>{O(_,{onSuccess:()=>{V.success("Diagnostico registrado correctamente"),i("submit",n.pacienteId)},onError:S=>{console.log(S)}})});return(_,S)=>(r(),y(le,{loading:l(R),onSubmit:l(Z),onCancel:S[2]||(S[2]=H=>_.$emit("cancel"))},{default:t(()=>[e(W,{options:s.value,name:"financiamiento_id",label:"Financiamiento",class:"col-xs-12 col-sm-6"},null,8,["options"]),e(W,{options:d.value,name:"empleado_id",label:"Medico",class:"col-xs-12 col-sm-6"},null,8,["options"]),C("div",ta,[e(Le,{modelValue:b.value,"onUpdate:modelValue":S[1]||(S[1]=H=>b.value=H),options:m.value,borderless:"",dense:"",name:"enfermedad",label:"Enfermedades"},{after:t(()=>[e(q,{disable:!b.value,round:"",dense:"",icon:"add",color:"positive",onClick:S[0]||(S[0]=()=>{l(k)(b.value),b.value=void 0})},null,8,["disable"])]),_:1},8,["modelValue","options"]),e(ie,null,{default:t(()=>[(r(!0),$(M,null,z(l(f),(H,ce)=>(r(),y(X,{key:H.value},{default:t(()=>[e(T,null,{default:t(()=>[B(L(H.label),1)]),_:2},1024),e(T,{side:""},{default:t(()=>[e(q,{round:"",flat:"",size:"lg",padding:"0",color:"negative",icon:"cancel",onClick:p=>l(v)(ce)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(x,{type:"textarea",name:"observaciones",label:"Descripcion",class:"col-xs-12 col-sm-6"})]),_:1},8,["loading","onSubmit"]))}}),la={class:"col-xs-12 col-sm-6"},ia=C("div",null,"Enfermedades",-1),sa=P({__name:"DiagnosticoEditForm",props:{diagnostico:{type:Object,required:!0}},emits:["submit","cancel"],setup(a,{emit:o}){const n=a,i=o,{mutateAsync:c,isLoading:g}=vo(),u=()=>{J.fire({title:"\xBFEst\xE1 seguro de finalizar este diagnostico?",text:"No podra deshacer los cambios!",input:"textarea",inputLabel:"Motivo",inputPlaceholder:"Describa el motivo...",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:async s=>{await c({motivo:s,id:n.diagnostico.id},{onSuccess:async()=>{V.success("Diagnostico finalizaado correctamente."),i("submit")},onError:()=>{J.hideLoading()}})},allowOutsideClick:()=>!J.isLoading()})};return(s,d)=>(r(),y(le,{loading:l(g),onSubmit:u},{actions:t(()=>[e(qe,{class:"col-12 justify-end q-pa-none q-pt-md"},{default:t(()=>[e(q,{label:"Cancelar",color:"primary","no-caps":"",outline:"",onClick:d[0]||(d[0]=m=>s.$emit("cancel"))}),a.diagnostico.estado?(r(),y(q,{key:0,label:"Finalizar",type:"submit",icon:"fas fa-hourglass-end",color:"negative","no-caps":""})):I("",!0)]),_:1})]),default:t(()=>[e(x,{borderless:"",outlined:!1,readonly:"",name:"financiamiento_id",label:"Financiamiento",class:"col-xs-12 col-sm-6",value:a.diagnostico.financiamiento.data.nombre},null,8,["value"]),e(x,{borderless:"",outlined:!1,readonly:"",name:"medico_id",label:"Medico",class:"col-xs-12 col-sm-6",value:a.diagnostico.medico.data.nombres+" "+a.diagnostico.medico.data.apellido_paterno+" "+a.diagnostico.medico.data.apellido_materno},null,8,["value"]),C("div",la,[ia,C("ul",null,[(r(!0),$(M,null,z(a.diagnostico.enfermedades.data,m=>(r(),$("li",{key:m.id},L(m.nombre),1))),128))])]),e(x,{borderless:"",autogrow:"",outlined:!1,readonly:"",type:"textarea",name:"observaciones",label:"Descripcion",class:"col-xs-12 col-sm-6",value:a.diagnostico.observaciones},null,8,["value"]),e(x,{borderless:"",autogrow:"",outlined:!1,readonly:"",type:"textarea",name:"motivo_finalizacion",label:"Observaciones",class:"col-xs-12 col-sm-6",value:a.diagnostico.motivo_finalizacion},null,8,["value"])]),_:1},8,["loading"]))}});var Te=Ke({name:"QTr",props:{props:Object,noHover:Boolean},setup(a,{slots:o}){const n=N(()=>"q-tr"+(a.props===void 0||a.props.header===!0?"":" "+a.props.__trClass)+(a.noHover===!0?" q-tr--no-hover":""));return()=>Je("tr",{class:n.value},We(o.default))}});const ra={key:2},ca={key:3},da={class:"row"},ua={class:"col-xs-12 col-sm-6"},ma=P({__name:"DiagnosticosTable",props:{diagnosticos:{type:Array,required:!0}},emits:["select"],setup(a,{emit:o}){const n=o,{formatDate:i}=Se(),{fetch:c,isLoading:g,diagnostico:u,controles:s}=Do(),{setDiagnosticoSeleccionado:d,setControlesDelDiagnostico:m}=Y(),w=[{name:"fecha",align:"center",label:"Fecha",field:"created_at",format:b=>i(b)},{name:"enfermedades",align:"left",label:"Enfermedades",field:b=>b.enfermedades.data.map(f=>f.nombre)},{name:"Descripcion",align:"center",label:"Descripcion",field:"observaciones"},{name:"estado",align:"center",label:"Estado",field:"estado"},{name:"actions",align:"center",label:"Acciones",field:"actions"}],F=Q(""),A=async b=>{F.value=b,await c(b),u.value?(d(u.value),m(s.value),n("select",b)):alert("no deberias entrar qui")};return(b,f)=>(r(),y(l(je),{columns:w,rows:a.diagnosticos,"row-key":"id",loading:!1},{header:t(v=>[e(Te,{props:v},{default:t(()=>[e(Me,{"auto-width":""}),(r(!0),$(M,null,z(v.cols,k=>(r(),y(Me,{key:k.name,props:v},{default:t(()=>[B(L(k.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:t(v=>[e(Te,{props:v},{default:t(()=>[e(te,{"auto-width":""},{default:t(()=>[e(q,{size:"sm",color:"accent",round:"",dense:"",icon:v.expand?"remove":"add",onClick:k=>v.expand=!v.expand},null,8,["icon","onClick"])]),_:2},1024),(r(!0),$(M,null,z(v.cols,k=>(r(),y(te,{key:k.name,props:v,"auto-width":""},{default:t(()=>[k.name==="actions"?(r(),y(q,{key:0,flat:"",color:"primary",icon:"fas fa-check",round:"",loading:l(g)&&F.value==v.key,padding:"0",onClick:O=>A(v.key)},null,8,["loading","onClick"])):k.name==="estado"?(r(),y(uo,{key:1,color:k.value?"positive":"negative",rounded:"",class:"q-mr-sm",label:k.value?"Activo":"Inactivo"},null,8,["color","label"])):k.name==="enfermedades"?(r(),$("ul",ra,[(r(!0),$(M,null,z(k.value,(O,R)=>(r(),$("li",{key:R},L(O),1))),128))])):(r(),$("div",ca,L(k.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),Xe(e(Te,{props:v},{default:t(()=>[e(te,{colspan:"100%"},{default:t(()=>[C("div",da,[C("div",ua,[e(ie,{dense:""},{default:t(()=>[e(X,null,{default:t(()=>[e(T,null,{default:t(()=>[B("Establecimiento:")]),_:1}),e(T,{side:""},{default:t(()=>[B(L(v.row.establecimiento.data.nombre),1)]),_:2},1024)]),_:2},1024),e(X,null,{default:t(()=>[e(T,null,{default:t(()=>[B("Observaciones:")]),_:1}),e(T,{side:""},{default:t(()=>[B(L(v.row.motivo_finalizacion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),_:2},1024)]),_:2},1032,["props"]),[[Ze,v.expand]])]),_:1},8,["rows"]))}}),fa=P({__name:"DiagnosticosListModal",props:{modelValue:{type:Boolean},diagnosticos:{},paciente:{}},emits:["update:modelValue","submit","select","addDiagnostico"],setup(a,{emit:o}){const n=a,i=o,c=ro(n,"modelValue",i),g=()=>{n.diagnosticos.some(u=>u.estado===!0)?V.error("Ya existe un diagnostico activo."):i("addDiagnostico")};return(u,s)=>(r(),y(oo,{modelValue:l(c),"onUpdate:modelValue":s[1]||(s[1]=d=>eo(c)?c.value=d:null)},{default:t(()=>[e(Pe,{style:{width:"1200px","max-width":"90vw"}},{default:t(()=>[e(xe,null,{default:t(()=>[e(X,null,{default:t(()=>[e(T,{avatar:""},{default:t(()=>[e(pe,{color:"primary",name:"fas fa-circle-exclamation",size:"xl"})]),_:1}),e(T,null,{default:t(()=>[e(Be,{class:"text-h6"},{default:t(()=>[B("Diagnosticos del Paciente")]),_:1}),e(Be,{lines:"2",class:"text-subtitle2 text-italic"},{default:t(()=>[B(" Por favor, seleccione un diagnostico para continuar. ")]),_:1})]),_:1}),e(T,{avatar:""},{default:t(()=>[e(q,{flat:"",color:"primary",icon:"fas fa-folder-plus",label:"Nuevo","no-caps":"",onClick:g})]),_:1})]),_:1})]),_:1}),e(xe,{class:"row"},{default:t(()=>[e(Ce,{borderless:"",readonly:"","model-value":u.paciente.nombres+" "+u.paciente.apellido_paterno+" "+u.paciente.apellido_materno,label:"Nombre Completo",class:"col-6"},null,8,["model-value"]),e(Ce,{borderless:"",readonly:"","model-value":u.paciente.historia_clinica,label:"Historia Clinica",class:"col-6"},null,8,["model-value"]),e(Ce,{borderless:"",readonly:"","model-value":u.paciente.tipo_documento,label:"Tipo de Documento",class:"col-6"},null,8,["model-value"]),e(Ce,{borderless:"",readonly:"","model-value":u.paciente.numero_documento,label:"Numero de Documento",class:"col-6"},null,8,["model-value"])]),_:1}),e(xe,null,{default:t(()=>[e(ma,{diagnosticos:u.diagnosticos,onSelect:s[0]||(s[0]=d=>u.$emit("select",d))},null,8,["diagnosticos"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),pa={key:0,class:"col-12 row justify-center"},ba={class:"col-auto"},va=C("div",{class:"col-12 text-center text-h6"}," Lo sentimos. \xA1No se encontr\xF3 ningun diagn\xF3stico!. Porfavor registre uno para empezar :) ",-1),_a={key:1},ga={class:"col-12 row justify-center"},ya={class:"col-auto"},ha=C("div",{class:"col-12 text-center text-h6"}," Por favor seleccione un diagnostico. :) ",-1),Ca=P({__name:"DatosDiagnosticoTab",setup(a){const{paciente:o,diagnosticosDelPaciente:n,diagnosticoSeleccionado:i,controlesDelDiagnostico:c,controlSeleccionado:g}=Fe(Y()),{fetchDiagnosticosDelPaciente:u}=Y(),s=Q("list"),d=Q(!1),m=()=>{i.value=void 0,g.value=void 0,c.value=[],s.value="list"},w=async b=>{m(),await u(b)},F=()=>{m(),s.value="new",d.value=!1},A=async()=>{s.value="edit",d.value=!1};return(b,f)=>(r(),$(M,null,[l(o)?(r(),y(Oe,{key:0,modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=v=>s.value=v),animated:"",class:""},{default:t(()=>[e(oe,{name:"list"},{default:t(()=>[l(n).length===0?(r(),$("div",pa,[C("div",ba,[e(pe,{name:"fas fa-face-frown",size:"xl"})]),va,e(q,{class:"q-mt-lg",color:"primary",icon:"fas fa-plus","no-caps":"",label:"Agregar nuevo diagnostico",outline:"",onClick:f[0]||(f[0]=v=>s.value="new")})])):(r(),$("div",_a,[C("div",ga,[C("div",ya,[e(pe,{name:"fas fa-face-grin-beam-sweat",size:"xl"})]),ha,e(q,{class:"q-mt-lg",color:"primary",icon:"fas fa-list-check","no-caps":"",label:"Visualizar Diagnosticos",outline:"",onClick:f[1]||(f[1]=v=>d.value=!0)})])]))]),_:1}),e(oe,{name:"new"},{default:t(()=>[e(na,{"paciente-id":l(o).id,onCancel:f[2]||(f[2]=v=>s.value="list"),onSubmit:w},null,8,["paciente-id"])]),_:1}),l(i)?(r(),y(oe,{key:0,name:"edit"},{default:t(()=>[e(sa,{diagnostico:l(i),onCancel:m,onSubmit:f[3]||(f[3]=v=>w(l(o).id))},null,8,["diagnostico"])]),_:1})):I("",!0)]),_:1},8,["modelValue"])):I("",!0),l(o)?(r(),y(fa,{key:1,modelValue:d.value,"onUpdate:modelValue":f[5]||(f[5]=v=>d.value=v),paciente:l(o),diagnosticos:l(n),onAddDiagnostico:F,onSelect:A},null,8,["modelValue","paciente","diagnosticos"])):I("",!0)],64))}}),xa={class:"col-xs-12 col-sm-4"},wa=P({__name:"PacienteCreateForm",emits:["submit","cancel"],setup(a,{emit:o}){const n=o,{data:i}=ze(),c=N(()=>i.value?i.value.map(_=>({label:_.nombre,value:_.id})):[]),g=N(()=>{const _=c.value.find(S=>S.value==Number(w.tipo_documento_id));return _?_.label==="DNI":!1}),u=re().shape({nombres:D().trim().required().label("Nombres"),apellido_paterno:D().trim().required().label("Apellido Paterno"),apellido_materno:D().trim().required().label("Apellido Materno"),direccion:D().trim().required().label("Direccion"),tipo_documento_id:D().required().label("Tipo de Documento"),numero_documento:G().typeError("Debe ingresar un n\xFAmero").required().label("N\xFAmero de Documento"),fecha_nacimiento:D().trim().required().label("Fecha de Nacimiento"),telefono:G().typeError("Tel\xE9fono debe ser un numero").integer().positive().required().label("Tel\xE9fono"),edad:G().typeError("Edad debe ser un numero").integer().positive().required().label("Edad"),historia_clinica:D().required().label("Historia Clinica"),sexo:D().required().label("Sexo")}),{handleSubmit:s,setFieldValue:d,setErrors:m,values:w,resetForm:F}=se({validationSchema:u}),{isLoading:A,mutateAsync:b}=qo(),f=s(async _=>{await b(_,{onSuccess:()=>{V.success("Paciente registrado correctamente."),n("submit",_.numero_documento)},onError:S=>{m(S.data.errors)}})}),{fetch:v,reniec:k,isLoading:O}=lo(),R=async()=>{if(await v(w.numero_documento),k.value){d("nombres",k.value.nombres),d("apellido_paterno",k.value.apellido_paterno),d("apellido_materno",k.value.apellido_materno),d("direccion",k.value.direccion),d("sexo",k.value.sexo==="1"?"Masculino":"Femenino");var _=k.value.fecha_nacimiento.split("/");const S=ae.local(Number(_[2]),Number(_[1]),Number(_[0]));S.isValid&&d("fecha_nacimiento",S.toISODate())}else F()},{calcularEdad:Z}=Se();return Ie(()=>w.fecha_nacimiento,_=>{_&&d("edad",Z(_))}),(_,S)=>(r(),y(le,{loading:l(A),onSubmit:l(f),onCancel:S[0]||(S[0]=H=>_.$emit("cancel"))},{default:t(()=>[e(W,{options:c.value,name:"tipo_documento_id",class:"col-xs-12 col-sm-4",label:"Tipo de Documento",loading:!1,required:""},null,8,["options"]),e(x,{name:"numero_documento",label:"N\xB0 de Documento",class:"col-xs-12 col-sm-4",required:""},{after:t(()=>[g.value?(r(),y(q,{key:0,round:"",dense:"",icon:"search",color:"primary",loading:l(O),onClick:R},{default:t(()=>[e(io,null,{default:t(()=>[B(" Buscar en RENIEC ")]),_:1})]),_:1},8,["loading"])):I("",!0)]),_:1}),e(x,{name:"nombres",label:"Nombres",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"apellido_paterno",label:"Apellido Paterno",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"apellido_materno",label:"Apellido Materno",class:"col-xs-12 col-sm-4",required:""}),C("div",xa,[e(be,{required:"",name:"fecha_nacimiento",label:"Fecha Nacimiento"})]),e(x,{name:"direccion",label:"Direcci\xF3n",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"telefono",label:"Tel\xE9fono",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"edad",label:"Edad",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"historia_clinica",label:"Historia Cl\xEDnica",class:"col-xs-12 col-sm-4",required:""}),e(so,{required:"",options:[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"}],name:"sexo",label:"Sexo",class:"col-xs-12 col-sm-8"})]),_:1},8,["loading","onSubmit"]))}}),Da=P({__name:"PacienteEditForm",props:{paciente:{type:Object,required:!0}},emits:["cancel"],setup(a){const o=a,n=re().shape({nombres:D().trim().required().label("Nombres"),apellido_paterno:D().trim().required().label("Apellido Paterno"),apellido_materno:D().trim().required().label("Apellido Materno"),tipo_documento_id:G().required().label("Tipo de Documento"),direccion:D().trim().required().label("Direccion"),numero_documento:G().typeError("Debe ingresar un n\xFAmero").required().label("N\xFAmero de Documento"),fecha_nacimiento:D().trim().required().label("Fecha de Nacimiento"),telefono:G().typeError("Tel\xE9fono debe ser un numero").integer().positive().required().label("Tel\xE9fono"),edad:G().typeError("Edad debe ser un numero").integer().positive().required().label("Edad"),historia_clinica:D().trim().required().label("Historia Clinica"),sexo:D().required().label("Sexo")}),{handleSubmit:i,setErrors:c}=se({validationSchema:n,initialValues:o.paciente}),{isLoading:g,mutate:u}=Fo(),s=i(async d=>{u({data:d,id:o.paciente.id},{onSuccess:()=>{V.success()},onError:m=>{c(m.data.errors)}})});return(d,m)=>(r(),y(le,{loading:l(g),onSubmit:l(s),onCancel:m[0]||(m[0]=w=>d.$emit("cancel"))},{default:t(()=>[e(x,{outlined:!1,borderless:!0,readonly:"",name:"nombres",label:"Nombres",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"apellido_paterno",label:"Apellido Paterno",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"apellido_materno",label:"Apellido Materno",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"tipo_documento",class:"col-xs-12 col-sm-4",label:"Tipo de Documento",loading:!1,required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"numero_documento",label:"N\xB0 de Documento",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"fecha_nacimiento",label:"Fecha de Nacimiento",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"direccion",label:"Direcci\xF3n",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"telefono",label:"Tel\xE9fono",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"edad",label:"Edad",class:"col-xs-12 col-sm-4",required:""}),e(x,{name:"historia_clinica",label:"Historia Cl\xEDnica",class:"col-xs-12 col-sm-4",required:""}),e(x,{outlined:!1,borderless:!0,readonly:"",name:"sexo",label:"Sexo",class:"col-xs-12 col-sm-4",required:""})]),_:1},8,["loading","onSubmit"]))}}),$a={key:2,class:"col-12 row justify-center"},ka={class:"col-auto"},qa=C("div",{class:"col-12 text-center text-h6"}," Lo sentimos. \xA1No se encontr\xF3 ningun paciente! ",-1),Fa=P({__name:"DatosPacienteTab",setup(a){const{paciente:o}=Fe(Y()),{$reset:n,fetchPaciente:i}=Y(),c=Q(!1),g=()=>{c.value=!1,n()},u=async s=>{g(),await i(s)};return(s,d)=>(r(),y(Pe,{class:"my-card"},{default:t(()=>[e(xe,null,{default:t(()=>[l(o)?(r(),y(Da,{key:0,paciente:l(o),onCancel:g},null,8,["paciente"])):!l(o)&&c.value?(r(),y(wa,{key:1,onCancel:g,onSubmit:u})):I("",!0),!l(o)&&!c.value?(r(),$("div",$a,[C("div",ka,[e(pe,{name:"fas fa-face-frown",size:"xl"})]),qa,e(q,{class:"q-mt-lg",color:"primary",icon:"fas fa-plus","no-caps":"",label:"Agregar nuevo paciente",outline:"",onClick:d[0]||(d[0]=m=>c.value=!c.value)})])):I("",!0)]),_:1})]),_:1}))}}),Sa={class:"row q-col-gutter-md"},Ea={class:"col-12"},Ra=P({__name:"DiagnosticoCreate",setup(a){const{fetchPaciente:o,$reset:n}=Y(),{paciente:i,isPacienteLoading:c,diagnosticoSeleccionado:g}=Fe(Y()),{data:u}=ze(),s=N(()=>u.value?u.value.map(F=>({label:F.nombre,value:F.id})):[]),d=re().shape({numero_documento:G().typeError("Debe ingresar un n\xFAmero").min(8).required().label("N\xFAmero de Documento"),tipo_documento_id:D().required().label("Tipo de Documento")}),{handleSubmit:m}=se({validationSchema:d}),w=m(async F=>{await o(F.numero_documento),i.value?J.fire({title:"Exito!",text:"Paciente encontrado correctamente!",icon:"success"}):J.fire({title:"Informaci\xF3n!",text:"No se encontro el paciente indicado!",icon:"info"})});return ao(()=>{if(window.confirm("Esta seguro de salir? Tiene cambios sin guardar!"))n();else return!1}),(F,A)=>(r(),$("div",Sa,[e(no,{class:"col-12 row q-col-gutter-lg items-start justify-center",onSubmit:l(w)},{default:t(()=>[e(W,{options:s.value,name:"tipo_documento_id",class:"col-xs-12 col-sm-4",label:"Tipo de Documento",loading:!1,required:""},null,8,["options"]),e(x,{name:"numero_documento",label:"N\xB0 de Documento",class:"col-xs-12 col-sm-4",required:""}),e(qe,{class:"col-auto justify-center"},{default:t(()=>[e(q,{color:"primary",outline:"",size:"lg",icon:"search",label:"Buscar","no-caps":"",type:"submit",loading:l(c)},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"]),C("div",Ea,[e(Ae,{icon:"fas fa-person",label:"Datos del Paciente",caption:"Editar / Crear"},{default:t(()=>[e(Fa)]),_:1}),l(i)?(r(),y(Ae,{key:0,icon:"fas fa-folder-open",label:"Diagn\xF3stico",caption:"Editar"},{default:t(()=>[e(Ca)]),_:1})):I("",!0),l(g)?(r(),y(Ae,{key:1,icon:"fas fa-list-ul",label:"Controles",caption:"Editar"},{default:t(()=>[e(Xo)]),_:1})):I("",!0)])]))}});export{Ra as default};
