import{Q as p}from"./QSelect.0d489ee9.js";import{u as f}from"./academicEntityFetchAllQuery.2707358f.js";import{_ as v}from"./BaseSelect.229e0648.js";import{h as _,j as s,f as b,d as y,m as g,D as E,B as r,u,H as F}from"./index.8e1e529b.js";const C=_({__name:"AcademicEntitiesSelect",props:{academicEntityId:{type:String,required:!1,default:void 0}},emits:["facultyChanged"],setup(m){const{data:l,isFetching:n}=f(),o=s([]),t=s(),d=m,c=b(()=>l.value?l.value.filter(a=>a.parent_id===t.value).map(a=>({label:a.abbreviation||a.name,value:a.id})):[]);return y(l,a=>{if(a&&(o.value=a.filter(e=>e.parent_id===1).map(e=>({label:e.abbreviation||e.name,value:e.real_id})),d.academicEntityId&&a)){const e=a.find(i=>i.id===d.academicEntityId);t.value=e==null?void 0:e.parent_id}},{immediate:!0,deep:!0}),(a,e)=>(g(),E(F,null,[r(p,{modelValue:t.value,"onUpdate:modelValue":[e[0]||(e[0]=i=>t.value=i),e[1]||(e[1]=i=>a.$emit("facultyChanged",void 0))],options:o.value,"emit-value":"","map-options":"",label:"Facultad",class:"col-xs-12 col-md-6",outlined:"",loading:u(n)},null,8,["modelValue","options","loading"]),r(v,{disable:!t.value,options:c.value,name:"academic_entity_id",class:"col-xs-12 col-md-6",label:"Escuela",loading:u(n),required:""},null,8,["disable","options","loading"])],64))}});export{C as _};
