var y=Object.defineProperty;var g=(t,e,a)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var d=(t,e,a)=>(g(t,typeof e!="symbol"?e+"":e,a),a);import{s as h,aE as b,a_ as w,d as _,u as i,h as p,j as u,v as n,G as v,ay as k,x as l,a4 as L,az as m,K as Q,b3 as $,B as C,b0 as N}from"./index.10e45f7e.js";import{_ as R}from"./BaseTable.a07863d7.js";import{Q as x}from"./QueryTypes.707bd378.js";import"./QTable.f31ffa45.js";import"./QSelect.3fbb843b.js";import"./rtl.b51694b1.js";const s=class{static async fetchAll(e){return await s._api.get(s._endpoint,e)}static async fetchRolePrivilegios(e){return await s._api.get(`${s._endpoint}/${e}/privilegios`)}static async store(e){return await s._api.post(s._endpoint,e)}static async destroy(e){return await s._api.delete(`${s._endpoint}/${e}`)}};let r=s;d(r,"_api",h),d(r,"_endpoint","/roles");class P{static async run(e){try{return(await r.fetchAll(e)).data().data}catch(a){throw b.error("Hubo un error al traer los roles..."),a}}}function T(){const t=async()=>await P.run({include:"privileges"}),{data:e,isLoading:a,refetch:o,error:c}=w([x.ROLES_ALL],t);return{roles:e,isRolesLoading:a,rolesError:c,refetch:o}}const A=_({__name:"RolesTable",emits:["destroy","editPrivileges"],setup(t){const e=[{name:"name",align:"left",label:"Nombre",field:"name"},{name:"display_name",align:"center",label:"Nombre Display",field:"display_name"},{name:"actions",align:"center",label:"Acciones",field:"actions"}],{roles:a,isRolesLoading:o}=T();return(c,B)=>i(a)&&!i(o)?(p(),u(R,{key:0,columns:e,data:i(a),"row-key":"id","show-grid-toggle":!1,loading:i(o)},{actions:n(({key:f})=>[v((p(),u(k,{clickable:"",onClick:E=>c.$router.push({name:"roles.privilegios",params:{id:f}})},{default:n(()=>[l(m,{avatar:""},{default:n(()=>[l(L,{name:"fas fa-clipboard-list",color:"secondary"})]),_:1}),l(m,null,{default:n(()=>[Q("Privilegios")]),_:1})]),_:2},1032,["onClick"])),[[N]]),l($)]),_:1},8,["data","loading"])):C("",!0)}}),G=_({__name:"RoleListPage",setup(t){return(e,a)=>(p(),u(A))}});export{G as default};
