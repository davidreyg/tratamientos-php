import{Q as k,a as $,b as T}from"./QTable.391fab48.js";import{d as V,e as d,w as N,h as u,j as c,v as a,x as t,q as g,y as r,a4 as v,aT as P,ap as y,B as q,b2 as j,aq as x,b3 as G,u as I,A as z,al as h,am as f,K as b,b4 as A,G as E,b1 as K}from"./index.c50cd903.js";const O={class:"my-table-details"},S={class:"col-12 q-mb-md"},U={class:"row justify-between q-col-gutter-sm"},D={class:"col-md-auto col-sm-auto col-xs-12"},R={class:"col-md-6 col-sm-auto col-xs-12"},M=V({__name:"BaseTable",props:{columns:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},rowKey:{type:String,required:!0},selection:{type:String,required:!1,default:"none"},showGridToggle:{type:Boolean,required:!1,default:!0},grid:{type:Boolean,required:!1,default:!1},serverPagination:{type:Object,default:void 0}},emits:["destroyOne","edit","request"],setup(i,{emit:Q}){const w=i,B=Q,m=d([]),p=d(""),n=d(w.grid),s=d({page:1,rowsPerPage:6,sortBy:"id",descending:!1,rowsNumber:void 0}),_=l=>{B("request",l),s.value=l.pagination};return N(()=>w.serverPagination,l=>{l&&s.value&&(s.value.rowsNumber=l.total,s.value.totalPages=l.total_pages,s.value.page=l.current_page,s.value.rowsPerPage=l.per_page)},{immediate:!0}),(l,o)=>(u(),c(I($),{selected:m.value,"onUpdate:selected":o[2]||(o[2]=e=>m.value=e),pagination:s.value,"onUpdate:pagination":o[3]||(o[3]=e=>s.value=e),rows:i.data,grid:n.value,columns:i.columns,selection:i.selection,filter:p.value,"row-key":i.rowKey,separator:"horizontal",loading:i.loading,"rows-per-page-options":[6,10,20,50,0],onRequest:_},{"body-cell-is_active":a(e=>[t(k,{props:e},{default:a(()=>[g(l.$slots,"cell_is_active",{props:e},()=>[r("div",null,[t(T,{color:"purple",label:e.value},null,8,["label"])]),r("div",O,z(e.row.details),1)])]),_:2},1032,["props"])]),top:a(()=>[r("div",S,[r("div",U,[r("div",D,[t(P,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),borderless:"",dense:"",outlined:"",debounce:"300",placeholder:"Buscar..."},{append:a(()=>[t(v,{name:"fas fa-magnifying-glass"})]),_:1},8,["modelValue"])]),r("div",R,[i.showGridToggle?(u(),c(y,{key:0,flat:"",padding:"0",class:"q-mr-md",icon:n.value?"fas fa-table":"fas fa-grip",size:"lg",color:"primary",onClick:o[1]||(o[1]=e=>n.value=!n.value)},null,8,["icon"])):q("",!0),m.value.length>0?(u(),c(y,{key:1,color:"negative",icon:"far fa-trash-can",label:"Eliminar","no-caps":""})):q("",!0)])])])]),"body-cell-actions":a(e=>[t(k,{class:"text-right"},{default:a(()=>[t(y,{round:"",flat:"",color:"primary",icon:"fas fa-ellipsis"},{default:a(()=>[t(j,{self:"top start",fit:"","transition-show":"flip-right","transition-hide":"jump-up"},{default:a(()=>[t(x,{class:"my-card",flat:""},{default:a(()=>[t(G,{style:{"min-width":"100px"}},{default:a(()=>[g(l.$slots,"actions",{key:e.key},()=>[t(h,{clickable:"",onClick:C=>l.$emit("edit",e.key)},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(v,{name:"fas fa-pen-to-square"})]),_:1}),t(f,null,{default:a(()=>[b("Editar")]),_:1})]),_:2},1032,["onClick"]),t(A),E((u(),c(h,{clickable:"",onClick:C=>l.$emit("destroyOne",e.key)},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(v,{name:"fas fa-trash-can"})]),_:1}),t(f,null,{default:a(()=>[b("Eliminar")]),_:1})]),_:2},1032,["onClick"])),[[K]])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),item:a(e=>[g(l.$slots,"item",{props:e},()=>[b(" haz tu propia card... ")])]),_:3},8,["selected","pagination","rows","grid","columns","selection","filter","row-key","loading"]))}});export{M as _};
