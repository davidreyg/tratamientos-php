import{X as N,r as u,G as V,o as p,d as y,aI as x,aJ as P,w as s,a4 as t,au as n,aK as v,aL as w,e as c,as as B,a1 as T,aM as _,ai as f,aN as z,Q as G,ab as b,at as k,aO as I,ad as j,aP as A}from"./index.ddaffeba.js";const K={class:"col-12 q-mb-md"},L={class:"row justify-between q-col-gutter-sm"},U={class:"col-md-auto col-sm-auto col-xs-12"},M={class:"col-md-6 col-sm-auto col-xs-12"},S=N({__name:"BaseTable",props:{columns:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},rowKey:{type:String,required:!0},selection:{type:String,required:!1,default:"none"},showGridToggle:{type:Boolean,required:!1,default:!1},grid:{type:Boolean,required:!1,default:!1},serverPagination:{type:Object,default:void 0}},emits:["request"],setup(l,{emit:C}){const h=l,Q=C,m=u([]),g=u(""),r=u(h.grid),o=u({page:1,rowsPerPage:6,sortBy:"id",descending:!1,rowsNumber:void 0}),$=a=>{Q("request",a),o.value=a.pagination};return V(()=>h.serverPagination,a=>{a&&o.value&&(o.value.rowsNumber=a.total,o.value.totalPages=a.total_pages,o.value.page=a.current_page,o.value.rowsPerPage=a.per_page)},{immediate:!0}),(a,i)=>{var q;return p(),y(T(_),{selected:m.value,"onUpdate:selected":i[2]||(i[2]=e=>m.value=e),pagination:o.value,"onUpdate:pagination":i[3]||(i[3]=e=>o.value=e),rows:l.data,grid:r.value,columns:l.columns,selection:l.selection,filter:g.value,"row-key":l.rowKey,separator:"horizontal",loading:l.loading,"rows-per-page-options":[6,10,20,50,0],onRequest:$},x({"body-cell-index":s(e=>[t(w,{props:e,class:v(e.col__thClass),"auto-width":""},{default:s(()=>[c(B(e.rowIndex+1),1)]),_:2},1032,["props","class"])]),top:s(()=>[n(a.$slots,"top",{},()=>[f("div",K,[f("div",L,[f("div",U,[t(z,{modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=e=>g.value=e),borderless:"",dense:"",outlined:"",debounce:"300",placeholder:"Buscar..."},{append:s(()=>[t(G,{name:"fas fa-magnifying-glass"})]),_:1},8,["modelValue"])]),f("div",M,[l.showGridToggle?(p(),y(b,{key:0,flat:"",padding:"0",class:"q-mr-md",icon:r.value?"fas fa-table":"fas fa-grip",size:"lg",color:"primary",onClick:i[1]||(i[1]=e=>r.value=!r.value)},null,8,["icon"])):k("",!0),m.value.length>0?(p(),y(b,{key:1,color:"negative",icon:"far fa-trash-can",label:"Eliminar","no-caps":""})):k("",!0)])])])])]),"body-cell-actions":s(e=>[t(w,{class:v(e.col.__thClass)},{default:s(()=>[n(a.$slots,"customActions",{props:e},()=>[t(b,{round:"",flat:"",color:"primary",icon:"fas fa-ellipsis"},{default:s(()=>[t(I,{self:"top start",fit:"","transition-show":"flip-right","transition-hide":"jump-up"},{default:s(()=>[t(j,{class:"my-card",flat:""},{default:s(()=>[t(A,{style:{"min-width":"100px"}},{default:s(()=>[n(a.$slots,"actions",{key:e.key},()=>[c(" acciones ")])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["class"])]),item:s(e=>[n(a.$slots,"item",{props:e},()=>[c(" haz tu propia card... ")])]),_:2},[P((q=l.columns)==null?void 0:q.filter(e=>e.name!=="actions").filter(e=>e.name!=="index"),(e,O)=>({name:`body-cell-${e.name}`,fn:s(d=>[t(w,{props:d,class:v(d.col.__thClass)},{default:s(()=>[n(a.$slots,`body-cell-${e.name}`,{props:d},()=>[c(B(d.value),1)])]),_:2},1032,["props","class"])])}))]),1032,["selected","pagination","rows","grid","columns","selection","filter","row-key","loading"])}}});export{S as _};
