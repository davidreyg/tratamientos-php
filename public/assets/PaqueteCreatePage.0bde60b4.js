import{W as q,Y as l,$ as C,a0 as h,b1 as k,aV as v,a1 as S,r as y,ag as N,o as c,ak as P,a5 as i,w as g,ad as w,aj as u,aF as E,f as V,a2 as r,e as d,au as B,aa as F}from"./index.1c6b0b02.js";import{u as A}from"./examenFetchAllQuery.217605d3.js";import{P as M}from"./PaqueteApi.a548d303.js";import{_ as Q}from"./ExamenCardList.3d78d6a7.js";import"./ExamenApi.44d6bbd2.js";import"./BaseCheckBoxGroup.16f64d79.js";class T{static async run(a){try{await M.create(a)}catch(e){throw e}}}function j(){return q(t=>T.run(t))}const J={class:"row"},L={class:"col-12"},U={class:"col-12 row q-col-gutter-sm"},W=l({__name:"PaqueteCreateForm",emits:["submit","cancel"],setup(t,{emit:a}){const e=a,o=C().shape({nombre:h().trim().min(2).required().label("Nombre"),examen_ids:k().of(v().required()).required().label("Examenes")}),{handleSubmit:_,setErrors:p}=S({validationSchema:o,initialValues:{examen_ids:[]}}),f=y({limit:0,search:"is_active:1",searchJoin:"and"}),{data:m}=A(f),{isLoading:b,mutate:$}=j(),x=_(async n=>{$(n,{onSuccess:()=>{N.success(),e("submit")},onError:s=>{p(s.data.errors)}})});return(n,s)=>(c(),P("div",J,[i(F,{class:"col-xs-12 col-sm-10",loading:r(b),onSubmit:r(x),onCancel:s[0]||(s[0]=Y=>n.$emit("cancel"))},{default:g(()=>[i(w,{name:"nombre",label:"Nombre",class:"col-12"}),u("div",L,[i(E,{spaced:""}),V(" Examenes")]),u("div",U,[r(m)?(c(),d(Q,{key:0,examens:r(m)},null,8,["examens"])):B("",!0)])]),_:1},8,["loading","onSubmit"])]))}}),O=l({__name:"PaqueteCreatePage",setup(t){return(a,e)=>(c(),d(W,{onSubmit:e[0]||(e[0]=o=>a.$router.back()),onCancel:e[1]||(e[1]=o=>a.$router.back())}))}});export{O as default};
