import{aD as P,a6 as A,a8 as $,r as h,E as x,o as d,e as m,w as a,ag as e,aE as q,aF as E,au as v,v as b,aG as S,an as B,aH as Q,aI as V,ap as F,aJ as I,ad as k,aK as L,aL as j,aM as G,ai as _,aj as f,f as w,aN as O,l as C,aO as D,av as M,aP as R,aQ as T,aR as U,aw as z,ar as K}from"./index.e1b5e9cb.js";class H{static async run(r){try{await P.destroy(r)}catch(l){throw l}}}function J(){return A(t=>H.run(t))}const W={class:"my-table-details"},X={class:"col-12 q-mb-md"},Y={class:"row justify-between q-col-gutter-sm"},Z={class:"col-md-auto col-sm-auto col-xs-12"},ee={class:"col-md-6 col-sm-auto col-xs-12"},ae=$({__name:"BaseTable",props:{columns:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},rowKey:{type:String,required:!0},selection:{type:String,required:!1,default:"none"},showGridToggle:{type:Boolean,required:!1,default:!0},grid:{type:Boolean,required:!1,default:!1},serverPagination:{type:Object,default:void 0}},emits:["destroyOne","edit","request"],setup(t,{emit:r}){const l=t,g=r,p=h([]),y=h(""),s=h(l.grid),i=h({page:1,rowsPerPage:6,sortBy:"id",descending:!1,rowsNumber:void 0}),u=n=>{g("request",n),i.value=n.pagination};return x(()=>l.serverPagination,n=>{n&&i.value&&(i.value.rowsNumber=n.total,i.value.totalPages=n.total_pages,i.value.page=n.current_page,i.value.rowsPerPage=n.per_page)},{immediate:!0}),(n,c)=>(d(),m(k(L),{selected:p.value,"onUpdate:selected":c[2]||(c[2]=o=>p.value=o),pagination:i.value,"onUpdate:pagination":c[3]||(c[3]=o=>i.value=o),rows:t.data,grid:s.value,columns:t.columns,selection:t.selection,filter:y.value,"row-key":t.rowKey,separator:"horizontal",loading:t.loading,"rows-per-page-options":[6,10,20,50,0],onRequest:u},{"body-cell-is_active":a(o=>[e(E,{props:o},{default:a(()=>[q(n.$slots,"cell_is_active",{props:o},()=>[v("div",null,[e(j,{color:"purple",label:o.value},null,8,["label"])]),v("div",W,G(o.row.details),1)])]),_:2},1032,["props"])]),top:a(()=>[v("div",X,[v("div",Y,[v("div",Z,[e(S,{modelValue:y.value,"onUpdate:modelValue":c[0]||(c[0]=o=>y.value=o),borderless:"",dense:"",outlined:"",debounce:"300",placeholder:"Buscar..."},{append:a(()=>[e(b,{name:"fas fa-magnifying-glass"})]),_:1},8,["modelValue"])]),v("div",ee,[t.showGridToggle?(d(),m(B,{key:0,flat:"",padding:"0",class:"q-mr-md",icon:s.value?"fas fa-table":"fas fa-grip",size:"lg",color:"primary",onClick:c[1]||(c[1]=o=>s.value=!s.value)},null,8,["icon"])):Q("",!0),p.value.length>0?(d(),m(B,{key:1,color:"negative",icon:"far fa-trash-can",label:"Eliminar","no-caps":""})):Q("",!0)])])])]),"body-cell-actions":a(o=>[e(E,{class:"text-right"},{default:a(()=>[e(B,{round:"",flat:"",color:"primary",icon:"fas fa-ellipsis"},{default:a(()=>[e(V,{self:"top start",fit:"","transition-show":"flip-right","transition-hide":"jump-up"},{default:a(()=>[e(F,{class:"my-card",flat:""},{default:a(()=>[e(I,{style:{"min-width":"100px"}},{default:a(()=>[q(n.$slots,"actions",{key:o.key},()=>[e(_,{clickable:"",onClick:N=>n.$emit("edit",o.key)},{default:a(()=>[e(f,{avatar:""},{default:a(()=>[e(b,{name:"fas fa-pen-to-square"})]),_:1}),e(f,null,{default:a(()=>[w("Editar")]),_:1})]),_:2},1032,["onClick"]),e(O),C((d(),m(_,{clickable:"",onClick:N=>n.$emit("destroyOne",o.key)},{default:a(()=>[e(f,{avatar:""},{default:a(()=>[e(b,{name:"fas fa-trash-can"})]),_:1}),e(f,null,{default:a(()=>[w("Eliminar")]),_:1})]),_:2},1032,["onClick"])),[[D]])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),item:a(o=>[q(n.$slots,"item",{props:o},()=>[w(" haz tu propia card... ")])]),_:3},8,["selected","pagination","rows","grid","columns","selection","filter","row-key","loading"]))}}),te=$({__name:"TipoDocumentosTableActions",props:{id:{type:String,required:!0}},emits:["destroy","edit"],setup(t){return(r,l)=>(d(),M(R,null,[C((d(),m(_,{clickable:"",onClick:l[0]||(l[0]=g=>r.$emit("edit",t.id))},{default:a(()=>[e(f,{avatar:""},{default:a(()=>[e(b,{name:"fas fa-pen-to-square",color:"warning"})]),_:1}),e(f,null,{default:a(()=>[w("Editar")]),_:1})]),_:1})),[[D]]),e(O),C((d(),m(_,{clickable:"",onClick:l[1]||(l[1]=g=>r.$emit("destroy",t.id))},{default:a(()=>[e(f,{avatar:""},{default:a(()=>[e(b,{name:"fas fa-trash-can",color:"negative"})]),_:1}),e(f,null,{default:a(()=>[w("Eliminar")]),_:1})]),_:1})),[[D]])],64))}}),oe=$({__name:"TipoDocumentosTable",props:{loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},serverPagination:{type:Object,default:void 0}},emits:["destroyOne","edit"],setup(t,{emit:r}){const l=r,g=[{name:"nombre",align:"left",label:"Nombre",field:"nombre",sortable:!0},{name:"digitos",align:"center",label:"Digitos",field:"digitos"},{name:"actions",align:"right",label:"",field:"actions"}],{mutateAsync:p}=J(),y=s=>{T.fire({title:"\xBFEst\xE1 seguro de eliminar este registro?",text:"No podra deshacer los cambios!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:async()=>{await p(s,{onSuccess:async()=>{l("destroyOne",s)},onError:()=>{T.hideLoading()}})},allowOutsideClick:()=>!T.isLoading()})};return(s,i)=>(d(),m(ae,{columns:g,data:t.data,loading:t.loading,"row-key":"id","server-pagination":t.serverPagination,"show-grid-toggle":!1},{actions:a(({key:u})=>[e(te,{id:u,onEdit:n=>s.$emit("edit",u),onDestroy:n=>y(u)},null,8,["id","onEdit","onDestroy"])]),_:1},8,["data","loading","server-pagination"]))}}),ie=$({__name:"TipoDocumentoIndex",setup(t){const{data:r,isFetching:l,isLoading:g,refetch:p}=U(),y=()=>{K.success("Registro eliminado correctamente."),p.value()};return(s,i)=>(d(),m(z,{title:"Tipo de documentos",loading:k(g),"with-add":"",onAdd:i[1]||(i[1]=u=>s.$router.push({name:"tipo-documentos.create"}))},{content:a(()=>[e(oe,{data:k(r)||[],loading:k(l),onEdit:i[0]||(i[0]=u=>s.$router.push({name:"tipo-documentos.edit",params:{id:u}})),onDestroyOne:y},null,8,["data","loading"])]),_:1},8,["loading"]))}});export{ie as default};
