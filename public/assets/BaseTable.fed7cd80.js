import{Y as N,r as u,H as V,o as p,e as y,aJ as x,aK as P,w as s,a5 as t,av as i,aL as v,aM as w,f as c,at as B,a2 as T,aN as _,aj as f,aO as j,Q as z,ac as b,au as Q,aP as A,ae as G,aQ as I}from"./index.56bc56d2.js";const K={class:"col-12 q-mb-md"},L={class:"row justify-between q-col-gutter-sm"},U={class:"col-md-auto col-sm-auto col-xs-12"},M={class:"col-md-6 col-sm-auto col-xs-12"},S=N({__name:"BaseTable",props:{columns:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},data:{type:Array,required:!0},rowKey:{type:String,required:!0},selection:{type:String,required:!1,default:"none"},showGridToggle:{type:Boolean,required:!1,default:!1},grid:{type:Boolean,required:!1,default:!1},serverPagination:{type:Object,default:void 0}},emits:["request"],setup(l,{emit:k}){const h=l,C=k,m=u([]),g=u(""),r=u(h.grid),o=u({page:1,rowsPerPage:6,sortBy:"id",descending:!1,rowsNumber:void 0}),$=a=>{C("request",a),o.value=a.pagination};return V(()=>h.serverPagination,a=>{a&&o.value&&(o.value.rowsNumber=a.total,o.value.totalPages=a.total_pages,o.value.page=a.current_page,o.value.rowsPerPage=a.per_page)},{immediate:!0}),(a,n)=>{var q;return p(),y(T(_),{selected:m.value,"onUpdate:selected":n[2]||(n[2]=e=>m.value=e),pagination:o.value,"onUpdate:pagination":n[3]||(n[3]=e=>o.value=e),rows:l.data,grid:r.value,columns:l.columns,selection:l.selection,filter:g.value,"row-key":l.rowKey,separator:"horizontal",loading:l.loading,"rows-per-page-options":[6,10,20,50,0],onRequest:$},x({"body-cell-index":s(e=>[t(w,{props:e,class:v(e.col__thClass),"auto-width":""},{default:s(()=>[c(B(e.rowIndex+1),1)]),_:2},1032,["props","class"])]),top:s(()=>[i(a.$slots,"top",{},()=>[f("div",K,[f("div",L,[f("div",U,[t(j,{modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=e=>g.value=e),borderless:"",dense:"",outlined:"",debounce:"300",placeholder:"Buscar..."},{append:s(()=>[t(z,{name:"fas fa-magnifying-glass"})]),_:1},8,["modelValue"])]),f("div",M,[l.showGridToggle?(p(),y(b,{key:0,flat:"",padding:"0",class:"q-mr-md",icon:r.value?"fas fa-table":"fas fa-grip",size:"lg",color:"primary",onClick:n[1]||(n[1]=e=>r.value=!r.value)},null,8,["icon"])):Q("",!0),m.value.length>0?(p(),y(b,{key:1,color:"negative",icon:"far fa-trash-can",label:"Eliminar","no-caps":""})):Q("",!0)])])])])]),"body-cell-actions":s(e=>[t(w,{class:v(e.col.__thClass)},{default:s(()=>[i(a.$slots,"customActions",{props:e},()=>[t(b,{round:"",flat:"",color:"primary",icon:"fas fa-ellipsis"},{default:s(()=>[t(A,{self:"top start",fit:"","transition-show":"flip-right","transition-hide":"jump-up"},{default:s(()=>[t(G,{class:"my-card",flat:""},{default:s(()=>[t(I,{style:{"min-width":"100px"}},{default:s(()=>[i(a.$slots,"actions",{key:e.key},()=>[c(" acciones ")])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["class"])]),item:s(e=>[i(a.$slots,"item",{props:e},()=>[c(" haz tu propia card... ")])]),_:2},[P((q=l.columns)==null?void 0:q.filter(e=>e.name!=="actions").filter(e=>e.name!=="index"),(e,O)=>({name:`body-cell-${e.name}`,fn:s(d=>[t(w,{props:d,class:v(d.col.__thClass)},{default:s(()=>[i(a.$slots,`body-cell-${e.name}`,{props:d},()=>[c(B(d.value),1)])]),_:2},1032,["props","class"])])}))]),1032,["selected","pagination","rows","grid","columns","selection","filter","row-key","loading"])}}});export{S as _};
