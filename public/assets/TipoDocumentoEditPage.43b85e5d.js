import{b3 as y,aH as T,aI as $,a6 as k,a8 as h,aa as E,ab as S,aV as w,ac as N,o as l,e as p,w as D,ag as b,ao as f,ad as s,al as C,aA as v,av as B,ap as F,aE as g,ar as q}from"./index.92769849.js";import{_ as x}from"./SkeletonForm.b1ab5f13.js";class O{static async run(e){try{return(await y.fetchOne(e)).data().data}catch(a){throw a}}}class I{static async run(e,a){try{await y.update(e,a)}catch(o){throw o}}}function L(t,e){const a=async()=>await O.run(t),{data:o,isLoading:c,isSuccess:r,isError:i,isFetching:u,refetch:n}=T([$.TIPO_DOCUMENTO_ALL,t],a,{enabled:e});return{data:o,isLoading:c,isSuccess:r,isError:i,isFetching:u,refetch:n}}function Q(){return k(({data:t,id:e})=>I.run(t,e))}const U=h({__name:"TipoDocumentoEditForm",props:{tipoDocumento:{type:Object,required:!0}},emits:["submit","cancel"],setup(t,{emit:e}){const a=t,o=e,c=E().shape({nombre:S().trim().min(2).required().label("Nombre"),digitos:w().typeError("Debe ingresar un numero").required().integer().positive().label("Digitos")}),{handleSubmit:r,setErrors:i}=N({validationSchema:c,initialValues:a.tipoDocumento}),{isLoading:u,mutate:n}=Q(),_=r(async d=>{n({data:d,id:a.tipoDocumento.id},{onSuccess:()=>{o("submit")},onError:m=>{i(m.data.errors)}})});return(d,m)=>(l(),p(C,{class:"col-sm-6 col-xs-12 col-md-5",loading:s(u),onSubmit:s(_),onCancel:m[0]||(m[0]=A=>d.$emit("cancel"))},{default:D(()=>[b(f,{name:"nombre",label:"Nombre",class:"col-12"}),b(f,{name:"digitos",label:"N\xB0 Digitos",class:"col-12"})]),_:1},8,["loading","onSubmit"]))}}),V={class:"row"},R=h({__name:"TipoDocumentoEditPage",props:{id:{type:Number,required:!0}},setup(t){const e=t,a=v(),{data:o,isSuccess:c,isFetching:r}=L(e.id,!0),i=()=>{q.success("Registro actualizado correctamente"),a.back()};return(u,n)=>(l(),B("div",V,[s(r)?(l(),p(F,{key:0,class:"col-sm-6 col-xs-12 col-md-5 q-pa-lg"},{default:D(()=>[b(x,{class:"col-12",inputs:2})]),_:1})):g("",!0),s(c)&&!s(r)&&s(o)?(l(),p(U,{key:1,"tipo-documento":s(o),gol:s(o),onSubmit:i,onCancel:n[0]||(n[0]=_=>u.$router.back())},null,8,["tipo-documento","gol"])):g("",!0)]))}});export{R as default};
