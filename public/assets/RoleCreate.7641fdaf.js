import{_ as y}from"./BasePage.21cf7fc1.js";import{u as C,a as S,_ as i}from"./BaseInput.2176ddc5.js";import{h as l,ar as N,D as R,B as t,A as u,u as c,m as p,q as k}from"./index.7154a952.js";import{c as v,a as m}from"./index.esm.4940542b.js";import{u as h}from"./index.171e870f.js";import{R as g}from"./RoleApi.c1adfa34.js";import"./QPage.7980e1dc.js";class w{static async run(a){try{await g.store(a)}catch(e){throw e}}}function x(){return h(o=>w.run(o))}const B={class:"row"},E=l({__name:"RoleCreateForm",emits:["submit","cancel"],setup(o,{emit:a}){const e=a,r=v().shape({name:m().trim().min(2).matches(/^\S*$/,"El campo no puede tener espacios.").required().label("Nombre"),display_name:m().trim().optional().label("Nombre display"),description:m().trim().optional().label("Descripci\xF3n")}),{handleSubmit:d,setErrors:_}=C({validationSchema:r}),{isLoading:b,mutate:f}=x(),$=d(async n=>{f(n,{onSuccess:()=>{N.success(),e("submit")},onError:s=>{_(s.data.errors)}})});return(n,s)=>(p(),R("div",B,[t(S,{class:"col-sm-6 col-xs-12 col-md-5",loading:c(b),onSubmit:c($),onCancel:s[0]||(s[0]=D=>n.$emit("cancel"))},{default:u(()=>[t(i,{name:"name",label:"Nombre",class:"col-12"}),t(i,{name:"display_name",label:"Nombre a mostrar",class:"col-12"}),t(i,{type:"textarea",name:"description",label:"Descripcion",class:"col-12"})]),_:1},8,["loading","onSubmit"])]))}}),V=l({__name:"RoleCreate",setup(o){return(a,e)=>(p(),k(y,{title:"Nuevo Rol",loading:!1},{content:u(()=>[t(E,{onSubmit:e[0]||(e[0]=r=>a.$router.back()),onCancel:e[1]||(e[1]=r=>a.$router.back())})]),_:1}))}});export{V as default};
